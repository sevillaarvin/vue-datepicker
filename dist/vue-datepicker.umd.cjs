(function(e,u){typeof exports=="object"&&typeof module<"u"?module.exports=u(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],u):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=u(e.Vue,e.dateFns))})(this,function(e,u){"use strict";function Ke(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function Xt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function $t(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function Bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function Nt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Tt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const Pt=(t,r,a,n,s)=>{const y=u.parse(t,r.slice(0,t.length),new Date);return u.isValid(y)&&u.isDate(y)?n||s?y:u.set(y,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},Jt=(t,r,a,n,s)=>{const y=Array.isArray(a)?a[0]:a;if(typeof r=="string")return Pt(t,r,y,n,s);if(Array.isArray(r)){let h=null;for(const A of r)if(h=Pt(t,A,y,n,s),h)break;return h}return typeof r=="function"?r(t):null},$=t=>t?new Date(t):new Date,Qt=(t,r)=>{if(r){const n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),y=t.getHours().toString().padStart(2,"0"),h=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${s}T${y}:${h}:00.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},Me=t=>{let r=$(JSON.parse(JSON.stringify(t)));return r=u.setHours(r,0),r=u.setMinutes(r,0),r=u.setSeconds(r,0),r=u.setMilliseconds(r,0),r},De=(t,r,a,n)=>{let s=t?$(t):$();return(r||r===0)&&(s=u.setHours(s,+r)),(a||a===0)&&(s=u.setMinutes(s,+a)),(n||n===0)&&(s=u.setSeconds(s,+n)),u.setMilliseconds(s,0)},ge=(t,r)=>!t||!r?!1:u.isBefore(Me(t),Me(r)),oe=(t,r)=>!t||!r?!1:u.isEqual(Me(t),Me(r)),he=(t,r)=>!t||!r?!1:u.isAfter(Me(t),Me(r)),At=(t,r,a)=>t&&t[0]&&t[1]?he(a,t[0])&&ge(a,t[1]):t&&t[0]&&r?he(a,t[0])&&ge(a,r)||ge(a,t[0])&&he(a,r):!1,Ye=t=>{const r=u.set(new Date(t),{date:1});return Me(r)},Je=(t,r,a)=>r&&(a||a===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===r?[n,a]:[n,isNaN(+t[n])?void 0:+t[n]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Ie=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Vt=()=>{const t=n=>{Ie.menuFocused=n},r=n=>{Ie.shiftKeyInMenu!==n&&(Ie.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Ie.shiftKeyInMenu,menuFocused:Ie.menuFocused})),setMenuFocused:t,setShiftKey:r}};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Et={exports:{}};(function(t){function r(a){return a&&a.__esModule?a:{default:a}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Et);var Ft=Et.exports,Fe={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var s=Number(n);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=r.default})(Fe,Fe.exports);var en=Fe.exports;const tn=Qe(en);var et={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var s=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return s.setUTCFullYear(n.getFullYear()),n.getTime()-s.getTime()}t.exports=r.default})(et,et.exports);var nn=et.exports;const Rt=Qe(nn);function rn(t,r){var a=sn(r);return a.formatToParts?ln(a,t):on(a,t)}var an={year:0,month:1,day:2,hour:3,minute:4,second:5};function ln(t,r){try{for(var a=t.formatToParts(r),n=[],s=0;s<a.length;s++){var y=an[a[s].type];y>=0&&(n[y]=parseInt(a[s].value,10))}return n}catch(h){if(h instanceof RangeError)return[NaN];throw h}}function on(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var tt={};function sn(t){if(!tt[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";tt[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return tt[t]}function nt(t,r,a,n,s,y,h){var A=new Date(0);return A.setUTCFullYear(t,r,a),A.setUTCHours(n,s,y,h),A}var _t=36e5,un=6e4,rt={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function at(t,r,a){var n,s;if(!t||(n=rt.timezoneZ.exec(t),n))return 0;var y;if(n=rt.timezoneHH.exec(t),n)return y=parseInt(n[1],10),vt(y)?-(y*_t):NaN;if(n=rt.timezoneHHMM.exec(t),n){y=parseInt(n[1],10);var h=parseInt(n[2],10);return vt(y,h)?(s=Math.abs(y)*_t+h*un,y>0?-s:s):NaN}if(fn(t)){r=new Date(r||Date.now());var A=a?r:cn(r),Y=lt(A,t),T=a?Y:dn(r,Y,t);return-T}return NaN}function cn(t){return nt(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function lt(t,r){var a=rn(t,r),n=nt(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),s=t.getTime(),y=s%1e3;return s-=y>=0?y:1e3+y,n-s}function dn(t,r,a){var n=t.getTime(),s=n-r,y=lt(new Date(s),a);if(r===y)return r;s-=y-r;var h=lt(new Date(s),a);return y===h?y:Math.max(y,h)}function vt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var Ot={};function fn(t){if(Ot[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Ot[t]=!0,!0}catch{return!1}}var mn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const Yt=mn;var ot=36e5,It=6e4,yn=2,ke={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Yt};function st(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?yn:tn(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=pn(t),y=gn(s.date,n),h=y.year,A=y.restDateString,Y=hn(A,h);if(isNaN(Y))return new Date(NaN);if(Y){var T=Y.getTime(),x=0,P;if(s.time&&(x=kn(s.time),isNaN(x)))return new Date(NaN);if(s.timeZone||a.timeZone){if(P=at(s.timeZone||a.timeZone,new Date(T+x)),isNaN(P))return new Date(NaN)}else P=Rt(new Date(T+x)),P=Rt(new Date(T+x+P));return new Date(T+x+P)}else return new Date(NaN)}function pn(t){var r={},a=ke.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=ke.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var s=ke.timeZone.exec(n);s?(r.time=n.replace(s[1],""),r.timeZone=s[1].trim()):r.time=n}return r}function gn(t,r){var a=ke.YYY[r],n=ke.YYYYY[r],s;if(s=ke.YYYY.exec(t)||n.exec(t),s){var y=s[1];return{year:parseInt(y,10),restDateString:t.slice(y.length)}}if(s=ke.YY.exec(t)||a.exec(t),s){var h=s[1];return{year:parseInt(h,10)*100,restDateString:t.slice(h.length)}}return{year:null}}function hn(t,r){if(r===null)return null;var a,n,s,y;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=ke.MM.exec(t),a)return n=new Date(0),s=parseInt(a[1],10)-1,zt(r,s)?(n.setUTCFullYear(r,s),n):new Date(NaN);if(a=ke.DDD.exec(t),a){n=new Date(0);var h=parseInt(a[1],10);return Dn(r,h)?(n.setUTCFullYear(r,0,h),n):new Date(NaN)}if(a=ke.MMDD.exec(t),a){n=new Date(0),s=parseInt(a[1],10)-1;var A=parseInt(a[2],10);return zt(r,s,A)?(n.setUTCFullYear(r,s,A),n):new Date(NaN)}if(a=ke.Www.exec(t),a)return y=parseInt(a[1],10)-1,Kt(r,y)?xt(r,y):new Date(NaN);if(a=ke.WwwD.exec(t),a){y=parseInt(a[1],10)-1;var Y=parseInt(a[2],10)-1;return Kt(r,y,Y)?xt(r,y,Y):new Date(NaN)}return null}function kn(t){var r,a,n;if(r=ke.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),it(a)?a%24*ot:NaN;if(r=ke.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),it(a,n)?a%24*ot+n*It:NaN;if(r=ke.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var s=parseFloat(r[3].replace(",","."));return it(a,n,s)?a%24*ot+n*It+s*1e3:NaN}return null}function xt(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var s=n.getUTCDay()||7,y=r*7+a+1-s;return n.setUTCDate(n.getUTCDate()+y),n}var wn=[31,28,31,30,31,30,31,31,30,31,30,31],bn=[31,29,31,30,31,30,31,31,30,31,30,31];function Lt(t){return t%400===0||t%4===0&&t%100!==0}function zt(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=Lt(t);if(n&&a>bn[r]||!n&&a>wn[r])return!1}return!0}function Dn(t,r){if(r<1)return!1;var a=Lt(t);return!(a&&r>366||!a&&r>365)}function Kt(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function it(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var ut={exports:{}},ct={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,s){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(n[y]=s[y]);return n}t.exports=r.default})(ct,ct.exports);var Cn=ct.exports;(function(t,r){var a=Ft.default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var n=a(Cn);function s(y){return(0,n.default)({},y)}t.exports=r.default})(ut,ut.exports);var Mn=ut.exports;const $n=Qe(Mn);function Sn(t,r,a){var n=st(t,a),s=at(r,n,!0),y=new Date(n.getTime()-s),h=new Date(0);return h.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),h.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),h}function Bn(t,r,a){if(typeof t=="string"&&!t.match(Yt)){var n=$n(a);return n.timeZone=r,st(t,n)}var s=st(t,a),y=nt(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()).getTime(),h=at(r,new Date(y));return new Date(y+h)}const Nn=(t,r=3)=>{const a=[];for(let n=0;n<t.length;n+=r)a.push([t[n],t[n+1],t[n+2]]);return a},Tn=(t,r)=>{const a=[1,2,3,4,5,6,7].map(y=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${y}T00:00:00+00:00`)).slice(0,2)),n=a.slice(0,r),s=a.slice(r+1,a.length);return[a[r]].concat(...s).concat(...n)},Pn=(t,r)=>{const a=[];for(let n=+t[0];n<=+t[1];n++)a.push({value:+n,text:`${n}`});return r?a.reverse():a},An=(t,r)=>{const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const y=s<10?`0${s}`:s;return new Date(`2017-${y}-01T00:00:00+00:00`)}).map((s,y)=>{let h=a.format(s);return{text:h.charAt(0).toUpperCase()+h.substring(1),value:y}})},Vn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ue=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},En=t=>Object.assign({type:"dot"},t),Ut=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Ue={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ye=t=>t,Ht=t=>t===0?t:!t||isNaN(+t)?null:+t,Wt=t=>Object.assign({menuAppear:"",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),Rn=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),_n=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,vn=(t,r,a)=>t||(typeof a=="string"?a:r),On=t=>typeof t=="boolean"?t?Wt({}):!1:Wt(t),Yn=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),In=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),xn=t=>Object.assign({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0},t),be=t=>{const r=()=>{if(t.partialRange)return null;throw new Error(Ue.prop("partial-range"))},a=e.computed(()=>({ariaLabels:Rn(t.ariaLabels),textInputOptions:Object.assign(Yn(),t.textInputOptions),multiCalendars:_n(t.multiCalendars),previewFormat:vn(t.previewFormat,t.format,y()),filters:In(t.filters),transitions:On(t.transitions),startTime:d(),actionRow:xn(t.actionRow)})),n=c=>{if(t.range)return c();throw new Error(Ue.prop("range"))},s=()=>{const c=t.enableSeconds?":ss":"";return t.is24?`HH:mm${c}`:`hh:mm${c} aa`},y=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?s():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${s()}`:"MM/dd/yyyy",h=(c,o)=>{if(typeof t.format=="function")return t.format(c);const l=o||y(),k=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(c)?`${u.format(c[0],l,k)} ${t.modelAuto&&!c[1]?"":a.value.textInputOptions.rangeSeparator||"-"} ${c[1]?u.format(c[1],l,k):""}`:u.format(c,l,k)},A=c=>t.timezone?Sn(c,t.timezone):c,Y=c=>t.timezone?Bn(c,t.timezone):c,T=e.computed(()=>c=>{var o;return(o=t.hideNavigation)==null?void 0:o.includes(c)}),x=c=>{const o=t.maxDate?he(A(c),A($(t.maxDate))):!1,l=t.minDate?ge(A(c),A($(t.minDate))):!1,k=v(c,t.disabledDates),B=a.value.filters.months.map(F=>+F).includes(u.getMonth(c)),f=t.disabledWeekDays.length?t.disabledWeekDays.some(F=>+F===u.getDay(c)):!1,N=t.allowedDates.length?!t.allowedDates.some(F=>oe(A($(F)),A(c))):!1,m=u.getYear(c),O=m<+t.yearRange[0]||m>+t.yearRange[1];return!(o||l||k||B||O||f||N)},P=c=>{const o={hours:u.getHours($()),minutes:u.getMinutes($()),seconds:t.enableSeconds?u.getSeconds($()):0};return Object.assign(o,c)},d=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[P(t.startTime[0]),P(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?P(t.startTime):null,M=c=>!x(c),Z=c=>Array.isArray(c)?u.isValid(c[0])&&(c[1]?u.isValid(c[1]):!0):c?u.isValid(c):!1,L=c=>c instanceof Date?c:u.parseISO(c),z=c=>{const o=u.startOfWeek(A(c),{weekStartsOn:+t.weekStart}),l=u.endOfWeek(A(c),{weekStartsOn:+t.weekStart});return[o,l]},v=(c,o)=>Array.isArray(o)?o.some(l=>oe(A($(l)),A(c))):o($(JSON.parse(JSON.stringify(c)))),I=(c,o,l)=>{let k=c?$(c):$();return(o||o===0)&&(k=u.setMonth(k,o)),l&&(k=u.setYear(k,l)),k},E=c=>u.set($(),{hours:u.getHours(c),minutes:u.getMinutes(c),seconds:u.getSeconds(c)}),H=c=>u.set($(),{hours:+c.hours||0,minutes:+c.minutes||0,seconds:+c.seconds||0}),K=(c,o,l,k)=>{if(!c)return!0;if(k){const b=l==="max"?u.isBefore(c,o):u.isAfter(c,o),B={seconds:0,milliseconds:0};return b||u.isEqual(u.set(c,B),u.set(o,B))}return l==="max"?c.getTime()<=o.getTime():c.getTime()>=o.getTime()},X=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,Q=c=>Array.isArray(c)?[c[0]?E(c[0]):null,c[1]?E(c[1]):null]:E(c),te=c=>{const o=t.maxTime?H(t.maxTime):$(t.maxDate);return Array.isArray(c)?K(c[0],o,"max",!!t.maxDate)&&K(c[1],o,"max",!!t.maxDate):K(c,o,"max",!!t.maxDate)},re=(c,o)=>{const l=t.minTime?H(t.minTime):$(t.minDate);return Array.isArray(c)?K(c[0],l,"min",!!t.minDate)&&K(c[1],l,"min",!!t.minDate)&&o:K(c,l,"min",!!t.minDate)&&o},ae=c=>{let o=!0;if(!c||X())return!0;const l=!t.minDate&&!t.maxDate?Q(c):c;return(t.maxTime||t.maxDate)&&(o=te(ye(l))),(t.minTime||t.minDate)&&(o=re(ye(l),o)),o},V=(c,o)=>{const l=$(JSON.parse(JSON.stringify(c))),k=[];for(let b=0;b<7;b++){const B=u.addDays(l,b),f=u.getMonth(B)!==o;k.push({text:t.hideOffsetDates&&f?"":B.getDate(),value:B,current:!f,classData:{}})}return k},D=(c,o)=>{const l=[],k=$(A(new Date(o,c))),b=$(A(new Date(o,c+1,0))),B=t.weekStart,f=u.startOfWeek(k,{weekStartsOn:B}),N=m=>{const O=V(m,c);if(l.push({days:O}),!l[l.length-1].days.some(F=>oe(Me(F.value),Me(b)))){const F=u.addDays(m,7);N(F)}};if(N(f),t.sixWeeks&&l.length<6){const m=6-l.length,O=(k.getDay()+7-B)%7,ie=6-(b.getDay()+7-B)%7,[$e,J]=(()=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[O==0,!0];case"fair":return[O==0||ie>O,!0];default:case"append":return[!1,!1]}})();for(let Ce=1;Ce<=m;Ce++)if(J?!!(Ce%2)==$e:$e){const fe=l[0].days[0],Se=V(u.addDays(fe.value,-7),u.getMonth(k));l.unshift({days:Se})}else{const fe=l[l.length-1],Se=fe.days[fe.days.length-1],Ve=V(u.addDays(Se.value,1),u.getMonth(k));l.push({days:Ve})}}return l},p=(c,o,l)=>[u.set($(c),{date:1}),u.set($(),{month:o,year:l,date:1})],_=(c,o)=>ge(...p(t.minDate,c,o))||oe(...p(t.minDate,c,o)),R=(c,o)=>he(...p(t.maxDate,c,o))||oe(...p(t.maxDate,c,o)),S=(c,o,l)=>{let k=!1;return t.maxDate&&l&&R(c,o)&&(k=!0),t.minDate&&!l&&_(c,o)&&(k=!0),k};return{checkPartialRangeValue:r,checkRangeEnabled:n,getZonedDate:A,getZonedToUtc:Y,formatDate:h,getDefaultPattern:y,validateDate:x,getDefaultStartTime:d,isDisabled:M,isValidDate:Z,sanitizeDate:L,getWeekFromDate:z,matchDate:v,setDateMonthOrYear:I,isValidTime:ae,getCalendarDays:D,validateMonthYearInRange:(c,o,l,k)=>{let b=!1;return k?t.minDate&&t.maxDate?b=S(c,o,l):(t.minDate&&_(c,o)||t.maxDate&&R(c,o))&&(b=!0):b=!0,b},validateMaxDate:R,validateMinDate:_,assignDefaultTime:P,defaults:a,hideNavigationButtons:T}},se=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),dt=e.ref(null),He=e.ref(!1),ft=e.ref(!1),mt=e.ref(!1),yt=e.ref(!1),we=e.ref(0),pe=e.ref(0),Ne=()=>{const t=e.computed(()=>He.value?[...se.selectionGrid,se.actionRow].filter(v=>v.length):ft.value?[...se.timePicker[0],...se.timePicker[1],yt.value?[]:[dt.value],se.actionRow].filter(v=>v.length):mt.value?[...se.monthPicker,se.actionRow]:[se.monthYear,...se.calendar,se.time,se.actionRow].filter(v=>v.length)),r=v=>{we.value=v?we.value+1:we.value-1;let I=null;t.value[pe.value]&&(I=t.value[pe.value][we.value]),I||(we.value=v?we.value-1:we.value+1)},a=v=>{if(pe.value===0&&!v||pe.value===t.value.length&&v)return;pe.value=v?pe.value+1:pe.value-1,t.value[pe.value]?t.value[pe.value]&&!t.value[pe.value][we.value]&&we.value!==0&&(we.value=t.value[pe.value].length-1):pe.value=v?pe.value-1:pe.value+1},n=v=>{let I=null;t.value[pe.value]&&(I=t.value[pe.value][we.value]),I?I.focus({preventScroll:!He.value}):we.value=v?we.value-1:we.value+1},s=()=>{r(!0),n(!0)},y=()=>{r(!1),n(!1)},h=()=>{a(!1),n(!0)},A=()=>{a(!0),n(!0)},Y=(v,I)=>{se[I]=v},T=(v,I)=>{se[I]=v},x=()=>{we.value=0,pe.value=0};return{buildMatrix:Y,buildMultiLevelMatrix:T,setTimePickerBackRef:v=>{dt.value=v},setSelectionGrid:v=>{He.value=v,x(),v||(se.selectionGrid=[])},setTimePicker:(v,I=!1)=>{ft.value=v,yt.value=I,x(),v||(se.timePicker[0]=[],se.timePicker[1]=[])},setTimePickerElements:(v,I=0)=>{se.timePicker[I]=v},arrowRight:s,arrowLeft:y,arrowUp:h,arrowDown:A,clearArrowNav:()=>{se.monthYear=[],se.calendar=[],se.time=[],se.actionRow=[],se.selectionGrid=[],se.timePicker[0]=[],se.timePicker[1]=[],He.value=!1,ft.value=!1,yt.value=!1,mt.value=!1,x(),dt.value=null},setMonthPicker:v=>{mt.value=v,x()},refSets:se}},jt=t=>Array.isArray(t),Pe=t=>Array.isArray(t),Gt=t=>Array.isArray(t)&&t.length===2,Ln=(t,r,a,n,s)=>{const{getDefaultStartTime:y,isDisabled:h,sanitizeDate:A,getWeekFromDate:Y,setDateMonthOrYear:T,validateMonthYearInRange:x,defaults:P}=be(t),d=e.computed({get:()=>t.internalModelValue,set:i=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",i)}}),M=e.ref([]);e.watch(d,()=>{X()});const Z=e.toRef(t,"multiCalendars");e.watch(Z,()=>{ne(0)});const L=e.ref([{month:u.getMonth($()),year:u.getYear($())}]),z=e.reactive({hours:t.range?[u.getHours($()),u.getHours($())]:u.getHours($()),minutes:t.range?[u.getMinutes($()),u.getMinutes($())]:u.getMinutes($()),seconds:t.range?[0,0]:0}),v=e.computed(()=>i=>L.value[i]?L.value[i].month:0),I=e.computed(()=>i=>L.value[i]?L.value[i].year:0),E=e.computed(()=>t.flow&&t.flow.length&&!t.partialFlow?s.value===t.flow.length:!0),H=(i,C,W)=>{var q,ce;L.value[i]||(L.value[i]={month:0,year:0}),L.value[i].month=C===null?(q=L.value[i])==null?void 0:q.month:C,L.value[i].year=W===null?(ce=L.value[i])==null?void 0:ce.year:W},K=(i,C)=>{z[i]=C};e.onMounted(()=>{d.value||(t.startDate&&(H(0,u.getMonth($(t.startDate)),u.getYear($(t.startDate))),P.value.multiCalendars&&ne(0)),P.value.startTime&&S()),X(!0)});const X=(i=!1)=>{if(d.value)return Array.isArray(d.value)?(M.value=d.value,V(i)):te(d.value);if(t.timePicker)return D();if(t.monthPicker&&!t.range)return p();if(t.yearPicker&&!t.range)return _();if(P.value.multiCalendars&&i&&!t.startDate)return Q($(),i)},Q=(i,C=!1)=>{if((!P.value.multiCalendars||!t.multiStatic||C)&&H(0,u.getMonth(i),u.getYear(i)),P.value.multiCalendars)for(let W=1;W<P.value.multiCalendars;W++){const q=u.set($(),{month:v.value(W-1),year:I.value(W-1)}),ce=u.add(q,{months:1});L.value[W]={month:u.getMonth(ce),year:u.getYear(ce)}}},te=i=>{Q(i),K("hours",u.getHours(i)),K("minutes",u.getMinutes(i)),K("seconds",u.getSeconds(i))},re=(i,C)=>{Q(i[0],C);const W=(q,ce)=>[q(i[0]),i[1]?q(i[1]):z[ce][1]];K("hours",W(u.getHours,"hours")),K("minutes",W(u.getMinutes,"minutes")),K("seconds",W(u.getSeconds,"seconds"))},ae=(i,C)=>{if((t.range||t.weekPicker)&&!t.multiDates)return re(i,C);if(t.multiDates){const W=i[i.length-1];return te(W)}},V=i=>{const C=d.value;ae(C,i),P.value.multiCalendars&&t.multiCalendarsSolo&&c()},D=()=>{if(S(),!t.range)d.value=De($(),z.hours,z.minutes,R());else{const i=z.hours,C=z.minutes;d.value=[De($(),i[0],C[0],R()),De($(),i[1],C[1],R(!1))]}},p=()=>{t.multiDates?d.value=[T($(),v.value(0),I.value(0))]:d.value=T($(),v.value(0),I.value(0))},_=()=>{d.value=$()},R=(i=!0)=>t.enableSeconds?Array.isArray(z.seconds)?i?z.seconds[0]:z.seconds[1]:z.seconds:0,S=()=>{const i=y();if(i){const C=Array.isArray(i),W=C?[+i[0].hours,+i[1].hours]:+i.hours,q=C?[+i[0].minutes,+i[1].minutes]:+i.minutes,ce=C?[+i[0].seconds,+i[1].seconds]:+i.seconds;K("hours",W),K("minutes",q),t.enableSeconds&&K("seconds",ce)}},g=()=>Array.isArray(d.value)&&d.value.length?d.value[d.value.length-1]:null,c=()=>{if(Array.isArray(d.value)&&d.value.length===2){const i=$($(d.value[1]?d.value[1]:u.addMonths(d.value[0],1))),[C,W]=[u.getMonth(d.value[0]),u.getYear(d.value[0])],[q,ce]=[u.getMonth(d.value[1]),u.getYear(d.value[1])];(C!==q||C===q&&W!==ce)&&t.multiCalendarsSolo&&H(1,u.getMonth(i),u.getYear(i))}},o=i=>{const C=u.addMonths(i,1);return{month:u.getMonth(C),year:u.getYear(C)}},l=i=>{const C=u.getMonth($(i)),W=u.getYear($(i));if(H(0,C,W),P.value.multiCalendars>0)for(let q=1;q<P.value.multiCalendars;q++){const ce=o(u.set($(i),{year:v.value(q-1),month:I.value(q-1)}));H(q,ce.month,ce.year)}},k=i=>{if(d.value&&Array.isArray(d.value))if(d.value.some(C=>oe(i,C))){const C=d.value.filter(W=>!oe(W,i));d.value=C.length?C:null}else(t.multiDatesLimit&&+t.multiDatesLimit>d.value.length||!t.multiDatesLimit)&&d.value.push(i);else d.value=[i]},b=(i,C)=>{const W=he(i,C)?C:i,q=he(C,i)?C:i;return u.eachDayOfInterval({start:W,end:q})},B=(i,C=0)=>{if(Array.isArray(d.value)&&d.value[C]){const W=u.differenceInCalendarDays(i,d.value[C]),q=b(d.value[C],i),ce=q.length===1?0:q.filter(U=>h(U)).length,w=Math.abs(W)-ce;if(t.minRange&&t.maxRange)return w>=+t.minRange&&w<=+t.maxRange;if(t.minRange)return w>=+t.minRange;if(t.maxRange)return w<=+t.maxRange}return!0},f=i=>Array.isArray(d.value)&&d.value.length===2?t.fixedStart&&(he(i,d.value[0])||oe(i,d.value[0]))?[d.value[0],i]:t.fixedEnd&&(ge(i,d.value[1])||oe(i,d.value[1]))?[i,d.value[1]]:(r("invalid-fixed-range",i),d.value):[],N=()=>{t.autoApply&&E.value&&r("auto-apply",t.partialFlow)},m=()=>{t.autoApply&&r("select-date")},O=i=>!u.eachDayOfInterval({start:i[0],end:i[1]}).some(W=>h(W)),F=i=>(d.value=Y($(i.value)),N()),ie=i=>{const C=De($(i.value),z.hours,z.minutes,R());t.multiDates?k(C):d.value=C,a(),N()},$e=()=>{M.value=d.value?d.value.slice():[],M.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(M.value=[])},J=(i,C)=>{const W=[$(i.value),u.addDays($(i.value),+t.autoRange)];O(W)&&(C&&l(i.value),M.value=W)},Ce=i=>{Be(i.value)||!B(i.value,t.fixedStart?0:1)||(M.value=f($(i.value)))},Be=i=>t.noDisabledRange?b(M.value[0],i).some(W=>h(W)):!1,fe=(i,C)=>{if($e(),t.autoRange)return J(i,C);if(t.fixedStart||t.fixedEnd)return Ce(i);M.value[0]?B($(i.value))&&!Be(i.value)&&(ge($(i.value),$(M.value[0]))?M.value.unshift($(i.value)):M.value[1]=$(i.value)):M.value[0]=$(i.value)},Se=i=>{M.value[i]=De(M.value[i],z.hours[i],z.minutes[i],R(i!==1))},Ve=()=>{M.value.length&&(M.value[0]&&!M.value[1]?Se(0):(Se(0),Se(1),a()),d.value=M.value.slice(),M.value[0]&&M.value[1]&&t.autoApply&&r("auto-apply"),M.value[0]&&!M.value[1]&&t.modelAuto&&t.autoApply&&r("auto-apply"))},Le=(i,C=!1)=>{if(!(h(i.value)||!i.current&&t.hideOffsetDates)){if(t.weekPicker)return F(i);if(!t.range)return ie(i);Pe(z.hours)&&Pe(z.minutes)&&!t.multiDates&&(fe(i,C),Ve())}},j=i=>{const C=i[0];return t.weekNumbers==="local"?u.getWeek(C.value,{weekStartsOn:+t.weekStart}):t.weekNumbers==="iso"?u.getISOWeek(C.value):typeof t.weekNumbers=="function"?t.weekNumbers(C.value):""},ne=i=>{for(let C=i-1;C>=0;C--){const W=u.subMonths(u.set($(),{month:v.value(C+1),year:I.value(C+1)}),1);H(C,u.getMonth(W),u.getYear(W))}for(let C=i+1;C<=P.value.multiCalendars-1;C++){const W=u.addMonths(u.set($(),{month:v.value(C-1),year:I.value(C-1)}),1);H(C,u.getMonth(W),u.getYear(W))}},ee=i=>T($(),v.value(i),I.value(i)),Ee=i=>De(i,z.hours,z.minutes,R()),Re=i=>{k(ee(i))},kt=(i,C)=>{const W=t.monthPicker?v.value(i)!==C.month||!C.fromNav:I.value(i)!==C.year||!C.fromNav;if(H(i,C.month,C.year),P.value.multiCalendars&&!t.multiCalendarsSolo&&ne(i),t.monthPicker||t.yearPicker)if(t.multiDates)W&&Re(i);else if(t.range){if(W&&B(ee(i))){let q=d.value?d.value.slice():[];q.length===2&&q[1]!==null&&(q=[]),q.length?ge(ee(i),q[0])?q.unshift(ee(i)):q[1]=ee(i):q=[ee(i)],d.value=q}}else d.value=ee(i);r("update-month-year",{instance:i,month:C.month,year:C.year}),n(t.multiCalendarsSolo?i:void 0)},wt=async(i=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const C=t.monthPicker?i:!1;t.range?r("auto-apply",C||!d.value||d.value.length===1):r("auto-apply",C)}a()},Ge=(i,C)=>{const W=u.set($(),{month:v.value(C),year:I.value(C)}),q=i<0?u.addMonths(W,1):u.subMonths(W,1);x(u.getMonth(q),u.getYear(q),i<0,t.preventMinMaxNavigation)&&(H(C,u.getMonth(q),u.getYear(q)),P.value.multiCalendars&&!t.multiCalendarsSolo&&ne(C),r("update-month-year",{instance:C,month:u.getMonth(q),year:u.getYear(q)}),n())},ze=i=>{jt(i)&&jt(d.value)&&Pe(z.hours)&&Pe(z.minutes)?(i[0]&&d.value[0]&&(d.value[0]=De(i[0],z.hours[0],z.minutes[0],R())),i[1]&&d.value[1]&&(d.value[1]=De(i[1],z.hours[1],z.minutes[1],R(!1)))):t.multiDates&&Array.isArray(d.value)?d.value[d.value.length-1]=Ee(i):!t.range&&!Gt(i)&&(d.value=Ee(i)),r("time-update")},bt=(i,C=!0,W=!1)=>{const q=C?i:z.hours,ce=!C&&!W?i:z.minutes,w=W?i:z.seconds;if(t.range&&Gt(d.value)&&Pe(q)&&Pe(ce)&&Pe(w)&&!t.disableTimeRangeValidation){const U=de=>De(d.value[de],q[de],ce[de],w[de]),me=de=>u.setMilliseconds(d.value[de],0);if(oe(d.value[0],d.value[1])&&(u.isAfter(U(0),me(1))||u.isBefore(U(1),me(0))))return}if(K("hours",q),K("minutes",ce),K("seconds",w),d.value)if(t.multiDates){const U=g();U&&ze(U)}else ze(d.value);else t.timePicker&&ze(t.range?[$(),$()]:$());a()},Dt=(i,C)=>{t.monthChangeOnScroll&&Ge(t.monthChangeOnScroll!=="inverse"?-i.deltaY:i.deltaY,C)},Ct=(i,C,W=!1)=>{t.monthChangeOnArrows&&t.vertical===W&&Ze(i,C)},Ze=(i,C)=>{Ge(i==="right"?-1:1,C)};return{time:z,month:v,year:I,modelValue:d,calendars:L,monthYearSelect:wt,isDisabled:h,updateTime:bt,getWeekNum:j,selectDate:Le,updateMonthYear:kt,handleScroll:Dt,getMarker:i=>t.markers.find(C=>oe(A(i.value),A(C.date))),handleArrow:Ct,handleSwipe:Ze,selectCurrentDate:()=>{t.range?d.value&&Array.isArray(d.value)&&d.value[0]?d.value=ge($(),d.value[0])?[$(),d.value[0]]:[d.value[0],$()]:d.value=[$()]:d.value=$(),m()},presetDateRange:(i,C)=>{C||i.length&&i.length<=2&&t.range&&(d.value=i.map(W=>$(W)),m(),t.multiCalendars&&e.nextTick().then(()=>X(!0)))}}},zn=(t,r,a)=>{const n=e.ref(),{getZonedToUtc:s,getZonedDate:y,formatDate:h,getDefaultPattern:A,checkRangeEnabled:Y,checkPartialRangeValue:T,isValidDate:x,setDateMonthOrYear:P,defaults:d}=be(r),M=e.ref(""),Z=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(Z,()=>{c()});const L=m=>{const O=m||$();return r.modelType?l(O):{hours:u.getHours(O),minutes:u.getMinutes(O),seconds:r.enableSeconds?u.getSeconds(O):0}},z=m=>r.modelType?l(m):{month:u.getMonth(m),year:u.getYear(m)},v=m=>Array.isArray(m)?Y(()=>[u.setYear($(),m[0]),m[1]?u.setYear($(),m[1]):T()]):u.setYear($(),+m),I=(m,O)=>(typeof m=="string"||typeof m=="number")&&r.modelType?o(m):O,E=m=>Array.isArray(m)?[I(m[0],De(null,+m[0].hours,+m[0].minutes,m[0].seconds)),I(m[1],De(null,+m[1].hours,+m[1].minutes,m[1].seconds))]:I(m,De(null,m.hours,m.minutes,m.seconds)),H=m=>Array.isArray(m)?r.multiDates?m.map(O=>I(O,P(null,+O.month,+O.year))):Y(()=>[I(m[0],P(null,+m[0].month,+m[0].year)),I(m[1],m[1]?P(null,+m[1].month,+m[1].year):T())]):I(m,P(null,+m.month,+m.year)),K=m=>{if(Array.isArray(m))return m.map(O=>o(O));throw new Error(Ue.dateArr("multi-dates"))},X=m=>{if(Array.isArray(m))return[$(m[0]),$(m[1])];throw new Error(Ue.dateArr("week-picker"))},Q=m=>r.modelAuto?Array.isArray(m)?[o(m[0]),o(m[1])]:r.autoApply?[o(m)]:[o(m),null]:Array.isArray(m)?Y(()=>[o(m[0]),m[1]?o(m[1]):T()]):o(m),te=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(T())},re=()=>{const m=n.value;return[l(m[0]),m[1]?l(m[1]):T()]},ae=()=>n.value[1]?re():l(ye(n.value[0])),V=()=>(n.value||[]).map(m=>l(m)),D=()=>(te(),r.modelAuto?ae():r.multiDates?V():Array.isArray(n.value)?Y(()=>re()):l(ye(n.value))),p=m=>m?r.timePicker?E(ye(m)):r.monthPicker?H(ye(m)):r.yearPicker?v(ye(m)):r.multiDates?K(ye(m)):r.weekPicker?X(ye(m)):Q(ye(m)):null,_=m=>{const O=p(m);x(ye(O))?(n.value=ye(O),c()):(n.value=null,M.value="")},R=()=>{var O;const m=F=>{var ie;return u.format(F,(ie=d.value.textInputOptions)==null?void 0:ie.format)};return`${m(n.value[0])} ${(O=d.value.textInputOptions)==null?void 0:O.rangeSeparator} ${n.value[1]?m(n.value[1]):""}`},S=()=>{var m;return a.value&&n.value?Array.isArray(n.value)?R():u.format(n.value,(m=d.value.textInputOptions)==null?void 0:m.format):h(n.value)},g=()=>{var m;return n.value?r.multiDates?n.value.map(O=>h(O)).join("; "):r.textInput&&typeof((m=d.value.textInputOptions)==null?void 0:m.format)=="string"?S():h(n.value):""},c=()=>{!r.format||typeof r.format=="string"?M.value=g():M.value=r.format(n.value)},o=m=>{if(r.utc){const O=new Date(m);return r.utc==="preserve"?new Date(O.getTime()+O.getTimezoneOffset()*6e4):O}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?y(new Date(m)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?u.parse(m,A(),new Date):y(u.parse(m,r.modelType,new Date)):y(new Date(m))},l=m=>m?r.utc?Qt(m,r.utc==="preserve"):r.modelType?r.modelType==="timestamp"?+s(m):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?h(s(m)):h(s(m),r.modelType):s(m):"",k=m=>{t("update:model-value",m)},b=m=>Array.isArray(n.value)?r.multiDates?n.value.map(O=>m(O)):[m(n.value[0]),n.value[1]?m(n.value[1]):T()]:m(ye(n.value)),B=m=>k(ye(b(m)));return{inputValue:M,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:_,formatInputValue:c,emitModelValue:()=>(c(),r.monthPicker?B(z):r.timePicker?B(L):r.yearPicker?B(u.getYear):r.weekPicker?k(n.value):k(D()))}},Kn=(t,r)=>{const{validateMonthYearInRange:a,validateMaxDate:n,validateMinDate:s,defaults:y}=be(t),h=(P,d)=>{let M=P;return y.value.filters.months.includes(u.getMonth(M))?(M=d?u.addMonths(P,1):u.subMonths(P,1),h(M,d)):M},A=(P,d)=>{let M=P;return y.value.filters.years.includes(u.getYear(M))?(M=d?u.addYears(P,1):u.subYears(P,1),A(M,d)):M},Y=P=>{const d=u.set(new Date,{month:t.month,year:t.year});let M=P?u.addMonths(d,1):u.subMonths(d,1);t.disableYearSelect&&(M=u.setYear(M,t.year));let Z=u.getMonth(M),L=u.getYear(M);y.value.filters.months.includes(Z)&&(M=h(M,P),Z=u.getMonth(M),L=u.getYear(M)),y.value.filters.years.includes(L)&&(M=A(M,P),L=u.getYear(M)),a(Z,L,P,t.preventMinMaxNavigation)&&T(Z,L)},T=(P,d)=>{r("update-month-year",{month:P,year:d})},x=e.computed(()=>P=>{if(!t.preventMinMaxNavigation||P&&!t.maxDate||!P&&!t.minDate)return!1;const d=u.set(new Date,{month:t.month,year:t.year}),M=P?u.addMonths(d,1):u.subMonths(d,1),Z=[u.getMonth(M),u.getYear(M)];return P?!n(...Z):!s(...Z)});return{handleMonthYearChange:Y,isDisabled:x,updateMonthYear:T}};var We=(t=>(t.center="center",t.left="left",t.right="right",t))(We||{});const Un=(t,r,a,n)=>{const s=e.ref({top:"0",left:"0",transform:"none",opacity:"0"}),y=e.ref(!1),h=e.toRef(n,"teleportCenter"),A=e.computed(()=>y.value?"-100%":"0"),Y=()=>{T(),s.value.opacity="0"};e.watch(h,()=>{I()}),e.onMounted(()=>{T()});const T=()=>{const D=ue(r);if(D){const{top:p,left:_,width:R,height:S}=Z(D);s.value.top=`${p+S/2}px`,M(_,R,50)}},x=D=>{if(n.teleport){const p=D.getBoundingClientRect();return{left:p.left+window.scrollX,top:p.top+window.scrollY}}return{top:0,left:0}},P=(D,p)=>{s.value.left=`${D+p}px`,s.value.transform=`translate(-100%, ${A.value})`},d=D=>{s.value.left=`${D}px`,s.value.transform=`translate(0, ${A.value})`},M=(D,p,_)=>{n.position===We.left&&d(D),n.position===We.right&&P(D,p),n.position===We.center&&(s.value.left=`${D+p/2}px`,s.value.transform=_?`translate(-50%, -${_}%)`:`translate(-50%, ${A.value})`)},Z=D=>{const{width:p,height:_}=D.getBoundingClientRect(),{top:R,left:S}=n.altPosition?n.altPosition(D):x(D);return{top:+R,left:+S,width:p,height:_}},L=()=>{const D=ue(r);if(D){const{top:p,left:_,width:R,height:S}=Z(D),g=Q();s.value.top=`${p+S/2}px`,M(_,R,g==="top"?100:0)}},z=()=>{s.value.left="50%",s.value.top="50%",s.value.transform="translate(-50%, -50%)",s.value.position="fixed",delete s.value.opacity},v=()=>{const D=ue(r),{top:p,left:_,transform:R}=n.altPosition(D);s.value={top:`${p}px`,left:`${_}px`,transform:R||""}},I=(D=!0)=>{if(!n.inline)return h.value?z():n.altPosition!==null?v():(D&&a("recalculate-position"),re())},E=({inputEl:D,menuEl:p,left:_,width:R})=>{window.screen.width>768&&M(_,R),X(D,p)},H=(D,p)=>{const{top:_,left:R,height:S,width:g}=Z(D);s.value.top=`${S+_+ +n.offset}px`,y.value=!1,E({inputEl:D,menuEl:p,left:R,width:g})},K=(D,p)=>{const{top:_,left:R,width:S}=Z(D);s.value.top=`${_-+n.offset}px`,y.value=!0,E({inputEl:D,menuEl:p,left:R,width:S})},X=(D,p)=>{if(n.autoPosition){const{left:_,width:R}=Z(D),{left:S,right:g}=p.getBoundingClientRect();return S<=0||S<=_?d(_):g>=document.documentElement.clientWidth?P(_,R):M(_,R)}},Q=()=>{const D=ue(t),p=ue(r);if(D&&p){const{height:_}=D.getBoundingClientRect(),{top:R,height:S}=p.getBoundingClientRect(),c=window.innerHeight-R-S,o=R;return _<=c?"bottom":_>c&&_<=o?"top":c>=o?"bottom":"top"}return"bottom"},te=(D,p)=>Q()==="bottom"?H(D,p):K(D,p),re=()=>{const D=ue(r),p=ue(t);if(D&&p)return n.autoPosition?te(D,p):H(D,p)},ae=function(D){if(D){const p=D.scrollHeight>D.clientHeight,R=window.getComputedStyle(D).overflowY.indexOf("hidden")!==-1;return p&&!R}return!0},V=function(D){return!D||D===document.body||D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:ae(D)?D:V(D.parentNode)};return{openOnTop:y,menuStyle:s,resetPosition:Y,setMenuPosition:I,setInitialPosition:L,getScrollableParent:V}},_e=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"time-picker-header",use:["time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],Hn=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Wn={all:()=>_e,monthYear:()=>_e.filter(t=>t.use.includes("month-year")),input:()=>Hn,timePicker:()=>_e.filter(t=>t.use.includes("time")),action:()=>_e.filter(t=>t.use.includes("action")),calendar:()=>_e.filter(t=>t.use.includes("calendar")),menu:()=>_e.filter(t=>t.use.includes("menu"))},Ae=(t,r,a)=>{const n=[];return Wn[r]().forEach(s=>{t[s.name]&&n.push(s.name)}),a&&a.length&&a.forEach(s=>{s.slot&&n.push(s.slot)}),n},je=t=>({transitionName:e.computed(()=>a=>t&&typeof t!="boolean"?a?t.open:t.close:""),showTransition:!!t}),Te={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1}},jn={key:1,class:"dp__input_wrap"},Gn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],Zn={key:2,class:"dp__input_icon"},qn={key:4,class:"dp__clear_icon"},Xn=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Te},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:r,emit:a}){const n=t,{getDefaultPattern:s,isValidDate:y,defaults:h,getDefaultStartTime:A,assignDefaultTime:Y}=be(n),T=e.ref(),x=e.ref(null),P=e.ref(!1),d=e.ref(!1),M=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:P.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),Z=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),T.value=null)},L=p=>{var R;const _=A();return Jt(p,((R=h.value.textInputOptions)==null?void 0:R.format)||s(),_||Y({}),n.inputValue,d.value)},z=p=>{const{rangeSeparator:_}=h.value.textInputOptions,[R,S]=p.split(`${_}`);if(R){const g=L(R.trim()),c=S?L(S.trim()):null,o=g&&c?[g,c]:[g];T.value=g?o:null}},v=()=>{d.value=!0},I=p=>{if(n.range)z(p);else if(n.multiDates){const _=p.split(";");T.value=_.map(R=>L(R.trim())).filter(R=>R)}else T.value=L(p)},E=p=>{var R;const{value:_}=p.target;_!==""?((R=h.value.textInputOptions)!=null&&R.openMenu&&!n.isMenuOpen&&a("open"),I(_),a("set-input-date",T.value)):Z(),d.value=!1,a("update:input-value",_)},H=p=>{var _,R;n.textInput?(I(p.target.value),(_=h.value.textInputOptions)!=null&&_.enterSubmit&&y(T.value)&&n.inputValue!==""?(a("set-input-date",T.value,!0),T.value=null):(R=h.value.textInputOptions)!=null&&R.enterSubmit&&n.inputValue===""&&(T.value=null,a("clear"))):Q(p)},K=()=>{var p,_;(p=h.value.textInputOptions)!=null&&p.tabSubmit&&y(T.value)&&n.inputValue!==""?(a("set-input-date",T.value,!0),T.value=null):(_=h.value.textInputOptions)!=null&&_.tabSubmit&&n.inputValue===""&&(T.value=null,a("clear"))},X=()=>{P.value=!0,a("focus")},Q=p=>{var _;p.preventDefault(),p.stopImmediatePropagation(),p.stopPropagation(),n.textInput&&((_=h.value.textInputOptions)!=null&&_.openMenu)&&!n.inlineWithInput?n.isMenuOpen?h.value.textInputOptions.enterSubmit&&a("select-date"):a("open"):n.textInput||a("toggle")},te=()=>{a("real-blur"),P.value=!1,n.isMenuOpen||a("blur"),n.autoApply&&n.textInput&&T.value&&!n.isMenuOpen&&(a("set-input-date",T.value),a("select-date"),T.value=null)},re=()=>{a("clear")},ae=p=>{if(!n.textInput){if(p.code==="Tab")return;p.preventDefault()}};return r({focusInput:()=>{var p;(p=x.value)==null||p.focus({preventScroll:!0})},setParsedDate:p=>{T.value=p}}),(p,_)=>{var R;return e.openBlock(),e.createElementBlock("div",{onClick:Q},[p.$slots.trigger&&!p.$slots["dp-input"]&&!p.inline?e.renderSlot(p.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!p.$slots.trigger&&(!p.inline||p.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",jn,[p.$slots["dp-input"]&&!p.$slots.trigger&&!p.inline?e.renderSlot(p.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:E,onEnter:H,onTab:K,onClear:re,onBlur:te,onKeypress:ae,onPaste:v}):e.createCommentVNode("",!0),p.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:x,id:p.uid?`dp-input-${p.uid}`:void 0,name:p.name,class:e.normalizeClass(e.unref(M)),inputmode:p.textInput?"text":"none",placeholder:p.placeholder,disabled:p.disabled,readonly:p.readonly,required:p.required,value:t.inputValue,autocomplete:p.autocomplete,"aria-label":(R=e.unref(h).ariaLabels)==null?void 0:R.input,onInput:E,onKeydown:[e.withKeys(H,["enter"]),e.withKeys(K,["tab"]),ae],onBlur:te,onFocus:X,onKeypress:ae,onPaste:v},null,42,Gn)),p.$slots["input-icon"]&&!p.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Zn,[e.renderSlot(p.$slots,"input-icon")])):e.createCommentVNode("",!0),!p.$slots["input-icon"]&&!p.hideInputIcon&&!p.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Ke),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),p.$slots["clear-icon"]&&t.inputValue&&p.clearable&&!p.disabled&&!p.readonly?(e.openBlock(),e.createElementBlock("span",qn,[e.renderSlot(p.$slots,"clear-icon",{clear:re})])):e.createCommentVNode("",!0),p.clearable&&!p.$slots["clear-icon"]&&t.inputValue&&!p.disabled&&!p.readonly?(e.openBlock(),e.createBlock(e.unref(Xt),{key:5,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers(re,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Jn=["title"],Qn={class:"dp__action_buttons"},Fn=["onKeydown","disabled"],er=e.defineComponent({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},calendarWidth:{type:Number,default:0},...Te},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:r}){const a=t,{formatDate:n,isValidTime:s,defaults:y}=be(a),{buildMatrix:h}=Ne(),A=e.ref(null),Y=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&h([ue(A),ue(Y)],"actionRow")});const T=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),x=e.computed(()=>!P.value||!d.value||!T.value),P=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:s(a.internalModelValue)),d=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(H=>!v(H)).length:v(a.internalModelValue):!0),M=()=>{const E=y.value.previewFormat;return a.timePicker||a.monthPicker,E(ye(a.internalModelValue))},Z=()=>{const E=a.internalModelValue;return y.value.multiCalendars>0?`${n(E[0])} - ${n(E[1])}`:[n(E[0]),n(E[1])]},L=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof y.value.previewFormat=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?Z():a.multiDates?a.internalModelValue.map(E=>`${n(E)}`):a.modelAuto?`${n(a.internalModelValue[0])}`:`${n(a.internalModelValue[0])} -`:n(a.internalModelValue):M()),z=e.computed(()=>Array.isArray(L.value)?L.value.join(a.multiDates?"; ":" - "):L.value),v=E=>{if(!a.monthPicker)return!0;let H=!0;const K=$(Ye(E));if(a.minDate&&a.maxDate){const X=$(Ye(a.minDate)),Q=$(Ye(a.maxDate));return he(K,X)&&ge(K,Q)||oe(K,X)||oe(K,Q)}if(a.minDate){const X=$(Ye(a.minDate));H=he(K,X)||oe(K,X)}if(a.maxDate){const X=$(Ye(a.maxDate));H=ge(K,X)||oe(K,X)}return H},I=()=>{P.value&&d.value&&T.value?r("select-date"):r("invalid-select")};return(E,H)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[E.$slots["action-row"]?e.renderSlot(E.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:t.internalModelValue,disabled:e.unref(x),selectDate:()=>E.$emit("select-date"),closePicker:()=>E.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(y).actionRow.showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:e.unref(z)},[E.$slots["action-preview"]?e.renderSlot(E.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),E.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(z)),1)],64))],8,Jn)):e.createCommentVNode("",!0),e.createElementVNode("div",Qn,[E.$slots["action-buttons"]?e.renderSlot(E.$slots,"action-buttons",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),E.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!E.inline&&e.unref(y).actionRow.showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:A,class:"dp__action_button dp__action_cancel",onClick:H[0]||(H[0]=K=>E.$emit("close-picker")),onKeydown:[H[1]||(H[1]=e.withKeys(K=>E.$emit("close-picker"),["enter"])),H[2]||(H[2]=e.withKeys(K=>E.$emit("close-picker"),["space"]))]},e.toDisplayString(E.cancelText),545)):e.createCommentVNode("",!0),E.showNowButton||e.unref(y).actionRow.showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:A,class:"dp__action_button dp__action_cancel",onClick:H[3]||(H[3]=K=>E.$emit("select-now")),onKeydown:[H[4]||(H[4]=e.withKeys(K=>E.$emit("select-now"),["enter"])),H[5]||(H[5]=e.withKeys(K=>E.$emit("select-now"),["space"]))]},e.toDisplayString(E.nowButtonLabel),545)):e.createCommentVNode("",!0),e.unref(y).actionRow.showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[e.withKeys(I,["enter"]),e.withKeys(I,["space"])],onClick:I,disabled:e.unref(x),ref_key:"selectButtonRef",ref:Y},e.toDisplayString(E.selectText),41,Fn)):e.createCommentVNode("",!0)],64))])],64))],4))}}),tr=["aria-label"],nr={class:"dp__calendar_header",role:"row"},rr={key:0,class:"dp__calendar_header_item",role:"gridcell"},ar=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),lr=["aria-label"],or={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},sr={class:"dp__cell_inner"},ir=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],ur=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Te},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:s}=Ne(),{setDateMonthOrYear:y,defaults:h}=be(n),A=e.ref(null),Y=e.ref({bottom:"",left:"",transform:""}),T=e.ref([]),x=e.ref(null),P=e.ref(!0),d=e.ref(""),M=e.ref({startX:0,endX:0,startY:0,endY:0}),Z=e.ref([]),L=e.ref({left:"50%"}),z=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Tn(n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:T}),n.noSwipe||x.value&&(x.value.addEventListener("touchstart",V,{passive:!1}),x.value.addEventListener("touchend",D,{passive:!1}),x.value.addEventListener("touchmove",p,{passive:!1})),n.monthChangeOnScroll&&x.value&&x.value.addEventListener("wheel",S,{passive:!1})});const v=g=>g?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",I=(g,c)=>{if(n.transitions){const o=Me(y($(),n.month,n.year));d.value=he(Me(y($(),g,c)),o)?h.value.transitions[v(!0)]:h.value.transitions[v(!1)],P.value=!1,e.nextTick(()=>{P.value=!0})}},E=e.computed(()=>({[n.calendarClassName]:!!n.calendarClassName})),H=e.computed(()=>g=>{const c=En(g);return{dp__marker_dot:c.type==="dot",dp__marker_line:c.type==="line"}}),K=e.computed(()=>g=>oe(g,A.value)),X=e.computed(()=>({dp__calendar:!0,dp__calendar_next:h.value.multiCalendars>0&&n.instance!==0})),Q=e.computed(()=>g=>n.hideOffsetDates?g.current:!0),te=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),re=async(g,c,o)=>{var l,k;if(a("set-hover-date",g),(k=(l=g.marker)==null?void 0:l.tooltip)!=null&&k.length){const b=ue(T.value[c][o]);if(b){const{width:B,height:f}=b.getBoundingClientRect();A.value=g.value;let N={left:`${B/2}px`},m=-50;if(await e.nextTick(),Z.value[0]){const{left:O,width:F}=Z.value[0].getBoundingClientRect();O<0&&(N={left:"0"},m=0,L.value.left=`${B/2}px`),window.innerWidth<O+F&&(N={right:"0"},m=0,L.value.left=`${F-B/2}px`)}Y.value={bottom:`${f}px`,...N,transform:`translateX(${m}%)`},a("tooltip-open",g.marker)}}},ae=g=>{A.value&&(A.value=null,Y.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",g.marker))},V=g=>{M.value.startX=g.changedTouches[0].screenX,M.value.startY=g.changedTouches[0].screenY},D=g=>{M.value.endX=g.changedTouches[0].screenX,M.value.endY=g.changedTouches[0].screenY,_()},p=g=>{n.vertical&&!n.inline&&g.preventDefault()},_=()=>{const g=n.vertical?"Y":"X";Math.abs(M.value[`start${g}`]-M.value[`end${g}`])>10&&a("handle-swipe",M.value[`start${g}`]>M.value[`end${g}`]?"right":"left")},R=(g,c,o)=>{g&&(Array.isArray(T.value[c])?T.value[c][o]=g:T.value[c]=[g]),n.arrowNavigation&&s(T.value,"calendar")},S=g=>{n.monthChangeOnScroll&&(g.preventDefault(),a("handle-scroll",g))};return r({triggerTransition:I}),(g,c)=>{var o;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(X))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(te)),ref_key:"calendarWrapRef",ref:x,role:"grid",class:e.normalizeClass(e.unref(E)),"aria-label":(o=e.unref(h).ariaLabels)==null?void 0:o.calendarWrap},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",nr,[g.weekNumbers?(e.openBlock(),e.createElementBlock("div",rr,e.toDisplayString(g.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(z),(l,k)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:k},[g.$slots["calendar-header"]?e.renderSlot(g.$slots,"calendar-header",{key:0,day:l,index:k}):e.createCommentVNode("",!0),g.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l),1)],64))]))),128))]),ar,e.createVNode(e.Transition,{name:d.value,css:!!g.transitions},{default:e.withCtx(()=>{var l;return[P.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(l=e.unref(h).ariaLabels)==null?void 0:l.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(k,b)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:b},[g.weekNumbers?(e.openBlock(),e.createElementBlock("div",or,[e.createElementVNode("div",sr,e.toDisplayString(t.getWeekNum(k.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.days,(B,f)=>{var N,m,O;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:F=>R(F,b,f),key:f+b,"aria-selected":B.classData.dp__active_date||B.classData.dp__range_start||B.classData.dp__range_start,"aria-disabled":B.classData.dp__cell_disabled,"aria-label":(m=(N=e.unref(h).ariaLabels)==null?void 0:N.day)==null?void 0:m.call(N,B),tabindex:"0",onClick:e.withModifiers(F=>g.$emit("select-date",B),["stop","prevent"]),onKeydown:[e.withKeys(F=>g.$emit("select-date",B),["enter"]),e.withKeys(F=>g.$emit("handle-space",B),["space"])],onMouseenter:F=>re(B,b,f),onMouseleave:F=>ae(B)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",B.classData])},[g.$slots.day&&e.unref(Q)(B)?e.renderSlot(g.$slots,"day",{key:0,day:+B.text,date:B.value}):e.createCommentVNode("",!0),g.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(B.text),1)],64)),B.marker&&e.unref(Q)(B)?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(H)(B.marker)),style:e.normalizeStyle(B.marker.color?{backgroundColor:B.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(K)(B.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:Z,style:e.normalizeStyle(Y.value)},[(O=B.marker)!=null&&O.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:c[0]||(c[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.marker.tooltip,(F,ie)=>(e.openBlock(),e.createElementBlock("div",{key:ie,class:"dp__tooltip_text"},[g.$slots["marker-tooltip"]?e.renderSlot(g.$slots,"marker-tooltip",{key:0,tooltip:F,day:B.value}):e.createCommentVNode("",!0),g.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(F.color?{backgroundColor:F.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(F.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(L.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,ir)}),128))]))),128))],8,lr)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64))],14,tr)],2)}}}),cr=["aria-label","aria-disabled"],pt=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:null,disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,s)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"dp__btn dp__month_year_col_nav",onClick:s[0]||(s[0]=y=>n.$emit("activate")),onKeydown:[s[1]||(s[1]=e.withKeys(y=>n.$emit("activate"),["enter"])),s[2]||(s[2]=e.withKeys(y=>n.$emit("activate"),["space"]))],tabindex:"0","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:a},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,cr))}}),dr=["onKeydown"],fr={class:"dp__selection_grid_header"},mr=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],yr=["aria-label","onKeydown"],xe=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:s,buildMultiLevelMatrix:y,setMonthPicker:h}=Ne(),{hideNavigationButtons:A}=be(n),Y=e.ref(!1),T=e.ref(null),x=e.ref(null),P=e.ref([]),d=e.ref(),M=e.ref(null),Z=e.ref(0),L=e.ref(null);e.onBeforeUpdate(()=>{T.value=null}),e.onMounted(()=>{e.nextTick().then(()=>re()),v(),z(!0)}),e.onUnmounted(()=>z(!1));const z=S=>{var g;n.arrowNavigation&&((g=n.headerRefs)!=null&&g.length?h(S):s(S))},v=()=>{const S=ue(x);S&&(n.textInput||S.focus({preventScroll:!0}),Y.value=S.clientHeight<S.scrollHeight)},I=e.computed(()=>({dp__overlay:!0})),E=e.computed(()=>({dp__overlay_col:!0})),H=S=>n.skipActive?!1:S.value===n.modelValue,K=e.computed(()=>n.items.map(S=>S.filter(g=>g).map(g=>{var l,k,b;const c=n.disabledValues.some(B=>B===g.value)||te(g.value),o=(l=n.multiModelValue)!=null&&l.length?(k=n.multiModelValue)==null?void 0:k.some(B=>oe(B,u.setYear(n.monthPicker?u.setMonth(new Date,g.value):new Date,n.monthPicker?n.year:g.value))):H(g);return{...g,className:{dp__overlay_cell_active:o,dp__overlay_cell:!o,dp__overlay_cell_disabled:c,dp__overlay_cell_active_disabled:c&&o,dp__overlay_cell_pad:!0,dp__cell_in_between:(b=n.multiModelValue)!=null&&b.length&&n.skipActive?V(g.value):!1}}}))),X=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:Y.value,dp__button_bottom:n.autoApply})),Q=e.computed(()=>{var S,g;return{dp__overlay_container:!0,dp__container_flex:((S=n.items)==null?void 0:S.length)<=6,dp__container_block:((g=n.items)==null?void 0:g.length)>6}}),te=S=>{const g=n.maxValue||n.maxValue===0,c=n.minValue||n.minValue===0;return!g&&!c?!1:g&&c?+S>+n.maxValue||+S<+n.minValue:g?+S>+n.maxValue:c?+S<+n.minValue:!1},re=()=>{const S=ue(T),g=ue(x),c=ue(M),o=ue(L),l=c?c.getBoundingClientRect().height:0;g&&(Z.value=g.getBoundingClientRect().height-l),S&&o&&(o.scrollTop=S.offsetTop-o.offsetTop-(Z.value/2-S.getBoundingClientRect().height)-l)},ae=S=>{!n.disabledValues.some(g=>g===S)&&!te(S)&&(a("update:model-value",S),a("selected"))},V=S=>{const g=n.monthPicker?n.year:S;return At(n.multiModelValue,u.setYear(n.monthPicker?u.setMonth(new Date,d.value||0):new Date,n.monthPicker?g:d.value||g),u.setYear(n.monthPicker?u.setMonth(new Date,S):new Date,g))},D=()=>{a("toggle"),a("reset-flow")},p=()=>{n.escClose&&D()},_=(S,g,c,o)=>{S&&(g.value===+n.modelValue&&!n.disabledValues.includes(g.value)&&(T.value=S),n.arrowNavigation&&(Array.isArray(P.value[c])?P.value[c][o]=S:P.value[c]=[S],R()))},R=()=>{var g,c;const S=(g=n.headerRefs)!=null&&g.length?[n.headerRefs].concat(P.value):P.value.concat([n.skipButtonRef?[]:[M.value]]);y(ye(S),(c=n.headerRefs)!=null&&c.length?"monthPicker":"selectionGrid")};return r({focusGrid:v}),(S,g)=>{var c;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:x,class:e.normalizeClass(e.unref(I)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(p,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(Q)),ref_key:"containerRef",ref:L,role:"grid",style:e.normalizeStyle({height:`${Z.value}px`})},[e.createElementVNode("div",fr,[e.renderSlot(S.$slots,"header")]),S.$slots.overlay?e.renderSlot(S.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(K),(o,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:e.unref(K).length>=3}]),key:l,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o,(k,b)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(E)),key:k.value,"aria-selected":k.value===t.modelValue&&!t.disabledValues.includes(k.value),"aria-disabled":k.className.dp__overlay_cell_disabled,ref_for:!0,ref:B=>_(B,k,l,b),tabindex:"0",onClick:B=>ae(k.value),onKeydown:[e.withKeys(B=>ae(k.value),["enter"]),e.withKeys(B=>ae(k.value),["space"])],onMouseover:B=>d.value=k.value},[e.createElementVNode("div",{class:e.normalizeClass(k.className)},[S.$slots.item?e.renderSlot(S.$slots,"item",{key:0,item:k}):e.createCommentVNode("",!0),S.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(k.text),1)],64))],2)],42,mr))),128))],2))),128))],6),S.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(c=t.ariaLabels)==null?void 0:c.toggleOverlay,class:e.normalizeClass(e.unref(X)),tabindex:"0",ref_key:"toggleButton",ref:M,onClick:D,onKeydown:e.withKeys(D,["enter"])},[e.renderSlot(S.$slots,"button-icon")],42,yr)),[[e.vShow,!e.unref(A)(t.type)]]):e.createCommentVNode("",!0)],42,dr)}}}),pr=["aria-label"],Zt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:r}){const a=t,{transitionName:n,showTransition:s}=je(a.transitions),y=e.ref(null);return e.onMounted(()=>r("set-ref",y)),(h,A)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:A[0]||(A[0]=Y=>h.$emit("toggle")),onKeydown:[A[1]||(A[1]=e.withKeys(Y=>h.$emit("toggle"),["enter"])),A[2]||(A[2]=e.withKeys(Y=>h.$emit("toggle"),["space"]))],"aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:y},[e.renderSlot(h.$slots,"default")],40,pr),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(s)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(xe,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":A[3]||(A[3]=Y=>h.$emit("update:model-value",Y)),onToggle:A[4]||(A[4]=Y=>h.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[h.$slots["calendar-icon"]?e.renderSlot(h.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),h.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ke),{key:1}))]),_:2},[h.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:Y})=>[e.renderSlot(h.$slots,t.slotName,{item:Y})]),key:"0"}:void 0,h.$slots[t.overlaySlot]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(h.$slots,t.overlaySlot)]),key:"1"}:void 0,h.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(h.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),gr={class:"dp__month_year_row"},hr={class:"dp__month_picker_header"},kr=["aria-label"],wr=["aria-label"],br=["aria-label"],Dr=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Te},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaults:s}=be(n),{transitionName:y,showTransition:h}=je(s.value.transitions),{buildMatrix:A}=Ne(),{handleMonthYearChange:Y,isDisabled:T,updateMonthYear:x}=Kn(n,a),P=e.ref(!1),d=e.ref(!1),M=e.ref([null,null,null,null]),Z=e.ref(null),L=e.ref(null),z=e.ref(null);e.onMounted(()=>{a("mount")});const v=f=>({get:()=>n[f],set:N=>{const m=f==="month"?"year":"month";a("update-month-year",{[f]:N,[m]:n[m]}),a("month-year-select",f==="year"),f==="month"?o(!0):l(!0)}}),I=e.computed(v("month")),E=e.computed(v("year")),H=f=>{const N=u.getYear($(f));return n.year===N},K=e.computed(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(f=>$(f)).filter(f=>H(f)).map(f=>u.getMonth(f)):[]:[]),X=e.computed(()=>f=>{const N=f==="month";return{showSelectionGrid:(N?P:d).value,items:(N?R:S).value,disabledValues:s.value.filters[N?"months":"years"].concat(K.value),minValue:(N?ae:te).value,maxValue:(N?V:re).value,headerRefs:N&&n.monthPicker?[Z.value,L.value,z.value]:[],escClose:n.escClose,transitions:s.value.transitions,ariaLabels:s.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),Q=e.computed(()=>f=>({month:n.month,year:n.year,items:f==="month"?n.months:n.years,instance:n.instance,updateMonthYear:x,toggle:f==="month"?o:l})),te=e.computed(()=>n.minDate?u.getYear($(n.minDate)):null),re=e.computed(()=>n.maxDate?u.getYear($(n.maxDate)):null),ae=e.computed(()=>{if(n.minDate&&te.value){if(te.value>n.year)return 12;if(te.value===n.year)return u.getMonth($(n.minDate))}return null}),V=e.computed(()=>n.maxDate&&re.value?re.value<n.year?-1:re.value===n.year?u.getMonth($(n.maxDate)):null:null),D=e.computed(()=>(n.range||n.multiDates)&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),p=f=>{const N=[],m=O=>O;for(let O=0;O<f.length;O+=3){const F=[f[O],f[O+1],f[O+2]];N.push(m(F))}return N},_=e.computed(()=>{const f=n.months.find(N=>N.value===n.month);return f||{text:"",value:0}}),R=e.computed(()=>p(n.months)),S=e.computed(()=>p(n.years)),g=e.computed(()=>s.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),c=e.computed(()=>s.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===s.value.multiCalendars-1:!0),o=(f=!1)=>{k(f),P.value=!P.value,P.value||a("overlay-closed")},l=(f=!1)=>{k(f),d.value=!d.value,d.value||a("overlay-closed")},k=f=>{f||a("reset-flow")},b=(f=!1)=>{T.value(f)||a("update-month-year",{year:f?n.year+1:n.year-1,month:n.month,fromNav:!0})},B=(f,N)=>{n.arrowNavigation&&(M.value[N]=ue(f),A(M.value,"monthYear"))};return r({toggleMonthPicker:o,toggleYearPicker:l,handleMonthYearChange:Y}),(f,N)=>{var m,O,F,ie,$e;return e.openBlock(),e.createElementBlock("div",gr,[f.$slots["month-year"]?e.renderSlot(f.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(x),handleMonthYearChange:e.unref(Y),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!f.monthPicker&&!f.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(g)&&!f.vertical?(e.openBlock(),e.createBlock(pt,{key:0,"aria-label":(m=e.unref(s).ariaLabels)==null?void 0:m.prevMonth,disabled:e.unref(T)(!1),onActivate:N[0]||(N[0]=J=>e.unref(Y)(!1)),onSetRef:N[1]||(N[1]=J=>B(J,0))},{default:e.withCtx(()=>[f.$slots["arrow-left"]?e.renderSlot(f.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),f.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:n.disableYearSelect}])},[e.createVNode(Zt,e.mergeProps({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(O=e.unref(s).ariaLabels)==null?void 0:O.openMonthsOverlay,modelValue:e.unref(I),"onUpdate:modelValue":N[2]||(N[2]=J=>e.isRef(I)?I.value=J:null)},e.unref(X)("month"),{onToggle:o,onSetRef:N[3]||(N[3]=J=>B(J,1))}),e.createSlots({default:e.withCtx(()=>[f.$slots.month?e.renderSlot(f.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(_)))):e.createCommentVNode("",!0),f.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(_).text),1)],64))]),_:2},[f.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(f.$slots,"calendar-icon")]),key:"0"}:void 0,f.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:e.withCtx(({item:J})=>[e.renderSlot(f.$slots,"month-overlay-value",{text:J.text,value:J.value})]),key:"1"}:void 0,f.$slots["month-overlay"]?{name:"overlay-month",fn:e.withCtx(()=>[e.renderSlot(f.$slots,"month-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(Q)("month"))))]),key:"2"}:void 0,f.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:e.withCtx(()=>[e.renderSlot(f.$slots,"month-overlay-header",{toggle:o})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),n.disableYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Zt,e.mergeProps({key:0,type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(F=e.unref(s).ariaLabels)==null?void 0:F.openYearsOverlay,modelValue:e.unref(E),"onUpdate:modelValue":N[4]||(N[4]=J=>e.isRef(E)?E.value=J:null)},e.unref(X)("year"),{onToggle:l,onSetRef:N[5]||(N[5]=J=>B(J,2))}),e.createSlots({default:e.withCtx(()=>[f.$slots.year?e.renderSlot(f.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),f.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[f.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(f.$slots,"calendar-icon")]),key:"0"}:void 0,f.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:e.withCtx(({item:J})=>[e.renderSlot(f.$slots,"year-overlay-value",{text:J.text,value:J.value})]),key:"1"}:void 0,f.$slots["year-overlay"]?{name:"overlay-year",fn:e.withCtx(()=>[e.renderSlot(f.$slots,"year-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(Q)("year"))))]),key:"2"}:void 0,f.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:e.withCtx(()=>[e.renderSlot(f.$slots,"year-overlay-header",{toggle:l})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]))],2),e.unref(g)&&f.vertical?(e.openBlock(),e.createBlock(pt,{key:1,"aria-label":(ie=e.unref(s).ariaLabels)==null?void 0:ie.prevMonth,disabled:e.unref(T)(!1),onActivate:N[6]||(N[6]=J=>e.unref(Y)(!1))},{default:e.withCtx(()=>[f.$slots["arrow-up"]?e.renderSlot(f.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),f.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Nt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(c)?(e.openBlock(),e.createBlock(pt,{key:2,ref:"rightIcon",disabled:e.unref(T)(!0),"aria-label":($e=e.unref(s).ariaLabels)==null?void 0:$e.nextMonth,onActivate:N[7]||(N[7]=J=>e.unref(Y)(!0)),onSetRef:N[8]||(N[8]=J=>B(J,3))},{default:e.withCtx(()=>[f.$slots[f.vertical?"arrow-down":"arrow-right"]?e.renderSlot(f.$slots,f.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),f.$slots[f.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(f.vertical?e.unref(Tt):e.unref(St)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),f.monthPicker?(e.openBlock(),e.createBlock(xe,e.mergeProps({key:1},e.unref(X)("month"),{"skip-active":f.range,year:t.year,"multi-model-value":e.unref(D),"month-picker":"",modelValue:e.unref(I),"onUpdate:modelValue":N[17]||(N[17]=J=>e.isRef(I)?I.value=J:null),onToggle:o,onSelected:N[18]||(N[18]=J=>f.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var J,Ce,Be;return[e.createElementVNode("div",hr,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:Z,onClick:N[9]||(N[9]=fe=>b(!1)),onKeydown:N[10]||(N[10]=e.withKeys(fe=>b(!1),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(T)(!1)}]),role:"button","aria-label":(J=e.unref(s).ariaLabels)==null?void 0:J.prevMonth},[f.$slots["arrow-left"]?e.renderSlot(f.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),f.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],10,kr)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:L,"aria-label":(Ce=e.unref(s).ariaLabels)==null?void 0:Ce.openYearsOverlay,tabindex:"0",onClick:N[11]||(N[11]=()=>l(!1)),onKeydown:N[12]||(N[12]=e.withKeys(()=>l(!1),["enter"]))},[f.$slots.year?e.renderSlot(f.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),f.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,wr),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:z,onClick:N[13]||(N[13]=fe=>b(!0)),onKeydown:N[14]||(N[14]=e.withKeys(fe=>b(!0),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(T)(!0)}]),role:"button","aria-label":(Be=e.unref(s).ariaLabels)==null?void 0:Be.nextMonth},[f.$slots["arrow-right"]?e.renderSlot(f.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),f.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))],10,br)],544)]),e.createVNode(e.Transition,{name:e.unref(y)(d.value),css:e.unref(h)},{default:e.withCtx(()=>[d.value?(e.openBlock(),e.createBlock(xe,e.mergeProps({key:0},e.unref(X)("year"),{modelValue:e.unref(E),"onUpdate:modelValue":N[15]||(N[15]=fe=>e.isRef(E)?E.value=fe:null),onToggle:l,onSelected:N[16]||(N[16]=fe=>f.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[f.$slots["calendar-icon"]?e.renderSlot(f.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ke),{key:1}))]),_:2},[f.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:fe})=>[e.renderSlot(f.$slots,"year-overlay-value",{text:fe.text,value:fe.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[f.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:J})=>[e.renderSlot(f.$slots,"month-overlay-value",{text:J.text,value:J.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),f.yearPicker?(e.openBlock(),e.createBlock(xe,e.mergeProps({key:2},e.unref(X)("year"),{modelValue:e.unref(E),"onUpdate:modelValue":N[19]||(N[19]=J=>e.isRef(E)?E.value=J:null),"multi-model-value":e.unref(D),"skip-active":f.range,"skip-button-ref":"","year-picker":"",onToggle:l,onSelected:N[20]||(N[20]=J=>f.$emit("overlay-closed"))}),e.createSlots({_:2},[f.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:J})=>[e.renderSlot(f.$slots,"year-overlay-value",{text:J.text,value:J.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),Cr={key:0,style:{"justify-content":"space-between"},class:"dp__time_input"},Mr=["aria-label","onKeydown","onClick"],$r=["aria-label","onKeydown","onClick"],Sr=["aria-label","onKeydown","onClick"],Br={key:0},Nr=["aria-label","onKeydown"],Tr=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Te},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:s,setTimePickerBackRef:y}=Ne(),{defaults:h}=be(n),{transitionName:A,showTransition:Y}=je(h.value.transitions),T=e.reactive({hours:!1,minutes:!1,seconds:!1}),x=e.ref("AM"),P=e.ref(null),d=e.ref([]);e.onMounted(()=>{a("mounted")});const M=o=>u.set(new Date,{hours:o.hours,minutes:o.minutes,seconds:n.enableSeconds?o.seconds:0,milliseconds:0}),Z=e.computed(()=>({hours:n.hours,minutes:n.minutes,seconds:n.seconds})),L=e.computed(()=>o=>!te(+n[o]+ +n[`${o}Increment`],o)),z=e.computed(()=>o=>!te(+n[o]-+n[`${o}Increment`],o)),v=(o,l)=>u.add(u.set($(),o),l),I=(o,l)=>u.sub(u.set($(),o),l),E=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),H=e.computed(()=>{const o=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?o.concat([{type:"",separator:!0},{type:"seconds"}]):o}),K=e.computed(()=>H.value.filter(o=>!o.separator)),X=e.computed(()=>o=>{if(o==="hours"){const l=_(+n.hours);return{text:l<10?`0${l}`:`${l}`,value:l}}return{text:n[o]<10?`0${n[o]}`:`${n[o]}`,value:n[o]}}),Q=o=>{const l=n.is24?24:12,k=o==="hours"?l:60,b=+n[`${o}GridIncrement`],B=o==="hours"&&!n.is24?b:0,f=[];for(let N=B;N<k;N+=b)f.push({value:N,text:N<10?`0${N}`:`${N}`});return o==="hours"&&!n.is24&&f.push({value:0,text:"12"}),Nn(f)},te=(o,l)=>{const k=n.minTime?M(Je(n.minTime)):null,b=n.maxTime?M(Je(n.maxTime)):null,B=M(Je(Z.value,l,o));return k&&b?(u.isBefore(B,b)||u.isEqual(B,b))&&(u.isAfter(B,k)||u.isEqual(B,k)):k?u.isAfter(B,k)||u.isEqual(B,k):b?u.isBefore(B,b)||u.isEqual(B,b):!0},re=e.computed(()=>o=>Q(o).flat().filter(k=>k||k.value===0).map(k=>k.value).filter(k=>!te(k,o))),ae=o=>n[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],V=o=>{ae(o)||(T[o]=!T[o],T[o]||a("overlay-closed"))},D=o=>o==="hours"?u.getHours:o==="minutes"?u.getMinutes:u.getSeconds,p=(o,l=!0)=>{const k=l?v:I,b=l?+n[`${o}Increment`]:-+n[`${o}Increment`];te(+n[o]+b,o)&&a(`update:${o}`,D(o)(k({[o]:+n[o]},{[o]:+n[`${o}Increment`]})))},_=o=>n.is24?o:(o>=12?x.value="PM":x.value="AM",Vn(o)),R=()=>{x.value==="PM"?(x.value="AM",a("update:hours",n.hours-12)):(x.value="PM",a("update:hours",n.hours+12)),a("am-pm-change",x.value)},S=o=>{T[o]=!0},g=(o,l,k)=>{if(o&&n.arrowNavigation){Array.isArray(d.value[l])?d.value[l][k]=o:d.value[l]=[o];const b=d.value.reduce((B,f)=>f.map((N,m)=>[...B[m]||[],f[m]]),[]);y(n.closeTimePickerBtn),P.value&&(b[1]=b[1].concat(P.value)),s(b,n.order)}},c=(o,l)=>o==="hours"&&!n.is24?a(`update:${o}`,x.value==="PM"?l+12:l):a(`update:${o}`,l);return r({openChildCmp:S}),(o,l)=>{var k;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Cr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(H),(b,B)=>{var f,N,m;return e.openBlock(),e.createElementBlock("div",{key:B,class:e.normalizeClass(e.unref(E))},[b.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(L)(b.type)}),"aria-label":(f=e.unref(h).ariaLabels)==null?void 0:f.incrementValue(b.type),tabindex:"0",onKeydown:[e.withKeys(O=>p(b.type),["enter"]),e.withKeys(O=>p(b.type),["space"])],onClick:O=>p(b.type),ref_for:!0,ref:O=>g(O,B,0)},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Nt),{key:1}))],42,Mr),e.createElementVNode("button",{type:"button","aria-label":(N=e.unref(h).ariaLabels)==null?void 0:N.openTpOverlay(b.type),class:e.normalizeClass(["dp__btn",ae(b.type)?"":"dp__time_display"]),tabindex:"0",onKeydown:[e.withKeys(O=>V(b.type),["enter"]),e.withKeys(O=>V(b.type),["space"])],onClick:O=>V(b.type),ref_for:!0,ref:O=>g(O,B,1)},[o.$slots[b.type]?e.renderSlot(o.$slots,b.type,{key:0,text:e.unref(X)(b.type).text,value:e.unref(X)(b.type).value}):e.createCommentVNode("",!0),o.$slots[b.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(X)(b.type).text),1)],64))],42,$r),e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(z)(b.type)}),"aria-label":(m=e.unref(h).ariaLabels)==null?void 0:m.decrementValue(b.type),tabindex:"0",onKeydown:[e.withKeys(O=>p(b.type,!1),["enter"]),e.withKeys(O=>p(b.type,!1),["space"])],onClick:O=>p(b.type,!1),ref_for:!0,ref:O=>g(O,B,2)},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Tt),{key:1}))],42,Sr)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Br,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:R,value:x.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:P,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(k=e.unref(h).ariaLabels)==null?void 0:k.amPmButton,tabindex:"0",onClick:R,onKeydown:[e.withKeys(e.withModifiers(R,["prevent"]),["enter"]),e.withKeys(e.withModifiers(R,["prevent"]),["space"])]},e.toDisplayString(x.value),41,Nr))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(K),(b,B)=>(e.openBlock(),e.createBlock(e.Transition,{key:B,name:e.unref(A)(T[b.type]),css:e.unref(Y)},{default:e.withCtx(()=>[T[b.type]?(e.openBlock(),e.createBlock(xe,{key:0,items:Q(b.type),"disabled-values":e.unref(h).filters.times[b.type].concat(e.unref(re)(b.type)),"esc-close":o.escClose,"aria-labels":e.unref(h).ariaLabels,"hide-navigation":o.hideNavigation,"onUpdate:modelValue":f=>c(b.type,f),onSelected:f=>V(b.type),onToggle:f=>V(b.type),onResetFlow:l[0]||(l[0]=f=>o.$emit("reset-flow")),type:b.type},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))]),_:2},[o.$slots[`${b.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:f})=>[e.renderSlot(o.$slots,`${b.type}-overlay-value`,{text:f.text,value:f.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Pr=["aria-label"],Ar={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},Vr={key:1,class:"dp__overlay_row dp__flex_row"},Er=["aria-label"],Rr=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Te},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:s,setTimePicker:y}=Ne(),h=e.useSlots(),{hideNavigationButtons:A,defaults:Y}=be(n),{transitionName:T,showTransition:x}=je(Y.value.transitions),P=e.ref(null),d=e.ref(null),M=e.ref([]),Z=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?s([ue(P.value)],"time"):y(!0,n.timePicker)});const L=e.computed(()=>n.range&&n.modelAuto?Ut(n.internalModelValue):!0),z=e.ref(!1),v=V=>({hours:Array.isArray(n.hours)?n.hours[V]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[V]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[V]:n.seconds}),I=e.computed(()=>{const V=[];if(n.range)for(let D=0;D<2;D++)V.push(v(D));else V.push(v(0));return V}),E=(V,D=!1,p="")=>{D||a("reset-flow"),z.value=V,a(V?"overlay-opened":"overlay-closed"),n.arrowNavigation&&y(V),e.nextTick(()=>{p!==""&&M.value[0]&&M.value[0].openChildCmp(p)})},H=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:n.autoApply&&!n.keepActionRow})),K=Ae(h,"timePicker"),X=(V,D,p)=>n.range?D===0?[V,I.value[1][p]]:[I.value[0][p],V]:V,Q=V=>{a("update:hours",V)},te=V=>{a("update:minutes",V)},re=V=>{a("update:seconds",V)},ae=()=>{Z.value&&n.arrowNavigation&&Z.value.focus({preventScroll:!0})};return r({toggleTimePicker:E}),(V,D)=>{var p;return e.openBlock(),e.createElementBlock("div",null,[V.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:e.normalizeClass(e.unref(H)),"aria-label":(p=e.unref(Y).ariaLabels)==null?void 0:p.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:P,onKeydown:[D[0]||(D[0]=e.withKeys(_=>E(!0),["enter"])),D[1]||(D[1]=e.withKeys(_=>E(!0),["space"]))],onClick:D[2]||(D[2]=_=>E(!0))},[V.$slots["clock-icon"]?e.renderSlot(V.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),V.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))],42,Pr)),[[e.vShow,!e.unref(A)("time")]]),e.createVNode(e.Transition,{name:e.unref(T)(z.value),css:e.unref(x)},{default:e.withCtx(()=>{var _;return[z.value||V.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:Z,tabindex:"0"},[e.createElementVNode("div",Ar,[V.$slots["time-picker-overlay"]?e.renderSlot(V.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:Q,setMinutes:te,setSeconds:re}):e.createCommentVNode("",!0),V.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Vr,[V.$slots["time-picker-header"]?e.renderSlot(V.$slots,"time-picker-header",{key:0}):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(I),(R,S)=>e.withDirectives((e.openBlock(),e.createBlock(Tr,e.mergeProps({key:S},{...V.$props,order:S,hours:R.hours,minutes:R.minutes,seconds:R.seconds,closeTimePickerBtn:d.value,disabled:S===0?V.fixedStart:V.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:M,"onUpdate:hours":g=>Q(X(g,S,"hours")),"onUpdate:minutes":g=>te(X(g,S,"minutes")),"onUpdate:seconds":g=>re(X(g,S,"seconds")),onMounted:ae,onOverlayClosed:ae,onAmPmChange:D[3]||(D[3]=g=>V.$emit("am-pm-change",g))}),e.createSlots({_:2},[e.renderList(e.unref(K),(g,c)=>({name:g,fn:e.withCtx(o=>[e.renderSlot(V.$slots,g,e.normalizeProps(e.guardReactiveProps(o)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,S===0?!0:e.unref(L)]])),128))])),V.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:d,class:e.normalizeClass(e.unref(H)),"aria-label":(_=e.unref(Y).ariaLabels)==null?void 0:_.closeTimePicker,tabindex:"0",onKeydown:[D[4]||(D[4]=e.withKeys(R=>E(!1),["enter"])),D[5]||(D[5]=e.withKeys(R=>E(!1),["space"]))],onClick:D[6]||(D[6]=R=>E(!1))},[V.$slots["calendar-icon"]?e.renderSlot(V.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),V.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ke),{key:1}))],42,Er)),[[e.vShow,!e.unref(A)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),_r=(t,r)=>{const{isDisabled:a,matchDate:n,getWeekFromDate:s,defaults:y}=be(r),h=e.ref(null),A=e.ref($()),Y=l=>{!l.current&&r.hideOffsetDates||(h.value=l.value)},T=()=>{h.value=null},x=l=>Array.isArray(t.value)&&r.range&&t.value[0]&&h.value?l?he(h.value,t.value[0]):ge(h.value,t.value[0]):!0,P=(l,k)=>{const b=()=>t.value?k?t.value[0]||null:t.value[1]:null,B=t.value&&Array.isArray(t.value)?b():null;return oe($(l.value),B)},d=l=>{const k=Array.isArray(t.value)?t.value[0]:null;return l?!ge(h.value||null,k):!0},M=(l,k=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?r.hideOffsetDates&&!l.current?!1:oe($(l.value),t.value[k?0:1]):r.range?P(l,k)&&d(k)||oe(l.value,Array.isArray(t.value)?t.value[0]:null)&&x(k):!1,Z=(l,k,b)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:b?he(t.value[0],k.value):ge(t.value[0],k.value):!1,L=l=>!t.value||r.hideOffsetDates&&!l.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?oe(l.value,t.value[0]?t.value[0]:A.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(k=>oe(k,l.value)):oe(l.value,t.value?t.value:A.value),z=l=>{if(r.autoRange||r.weekPicker){if(h.value){if(r.hideOffsetDates&&!l.current)return!1;const k=u.addDays(h.value,+r.autoRange),b=s($(h.value));return r.weekPicker?oe(b[1],$(l.value)):oe(k,$(l.value))}return!1}return!1},v=l=>{if(r.autoRange||r.weekPicker){if(h.value){const k=u.addDays(h.value,+r.autoRange);if(r.hideOffsetDates&&!l.current)return!1;const b=s($(h.value));return r.weekPicker?he(l.value,b[0])&&ge(l.value,b[1]):he(l.value,h.value)&&ge(l.value,k)}return!1}return!1},I=l=>{if(r.autoRange||r.weekPicker){if(h.value){if(r.hideOffsetDates&&!l.current)return!1;const k=s($(h.value));return r.weekPicker?oe(k[0],l.value):oe(h.value,l.value)}return!1}return!1},E=l=>At(t.value,h.value,l.value),H=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,K=()=>r.modelAuto?Ut(r.internalModelValue):!0,X=l=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const k=r.range?!M(l)&&!M(l,!1):!0;return!a(l.value)&&!L(l)&&!(!l.current&&r.hideOffsetDates)&&k},Q=l=>r.range?r.modelAuto?H()&&L(l):!1:L(l),te=l=>r.highlight?n(l.value,r.highlight):!1,re=l=>a(l.value)&&r.highlightDisabledDays===!1,ae=l=>r.highlightWeekDays&&r.highlightWeekDays.includes(l.value.getDay()),V=l=>(r.range||r.weekPicker)&&(!(y.value.multiCalendars>0)||l.current)&&K()&&!(!l.current&&r.hideOffsetDates)&&!L(l)?E(l):!1,D=l=>{const{isRangeStart:k,isRangeEnd:b}=R(l),B=r.range?k||b:!1;return{dp__cell_offset:!l.current,dp__pointer:!r.disabled&&!(!l.current&&r.hideOffsetDates)&&!a(l.value),dp__cell_disabled:a(l.value),dp__cell_highlight:!re(l)&&(te(l)||ae(l))&&!Q(l)&&!B,dp__cell_highlight_active:!re(l)&&(te(l)||ae(l))&&Q(l),dp__today:!r.noToday&&oe(l.value,A.value)&&l.current}},p=l=>({dp__active_date:Q(l),dp__date_hover:X(l)}),_=l=>({...S(l),...g(l),dp__range_between_week:V(l)&&r.weekPicker}),R=l=>{const k=y.value.multiCalendars>0?l.current&&M(l)&&K():M(l)&&K(),b=y.value.multiCalendars>0?l.current&&M(l,!1)&&K():M(l,!1)&&K();return{isRangeStart:k,isRangeEnd:b}},S=l=>{const{isRangeStart:k,isRangeEnd:b}=R(l);return{dp__range_start:k,dp__range_end:b,dp__range_between:V(l)&&!r.weekPicker,dp__date_hover_start:Z(X(l),l,!0),dp__date_hover_end:Z(X(l),l,!1)}},g=l=>({...S(l),dp__cell_auto_range:v(l),dp__cell_auto_range_start:I(l),dp__cell_auto_range_end:z(l)}),c=l=>r.range?r.autoRange?g(l):r.modelAuto?{...p(l),...S(l)}:S(l):r.weekPicker?_(l):p(l);return{setHoverDate:Y,clearHoverDate:T,getDayClassData:l=>({...D(l),...c(l),[r.dayClass?r.dayClass(l.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName})}},vr=["id","onKeydown"],Or={key:0,class:"dp__sidebar_left"},Yr={key:1,class:"dp__preset_ranges"},Ir=["onClick"],xr={key:2,class:"dp__sidebar_right"},Lr={key:3,class:"dp__action_extra"},zr=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Te},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,s=e.computed(()=>{const{openOnTop:w,internalModelValue:U,...me}=n;return me}),{setMenuFocused:y,setShiftKey:h,control:A}=Vt(),{getCalendarDays:Y,defaults:T}=be(n),x=e.useSlots(),P=e.ref(null),d=e.reactive({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),M=e.ref([]),Z=e.ref([]),L=e.ref(null),z=e.ref(null),v=e.ref(0),I=e.ref(!1),E=e.ref(0);e.onMounted(()=>{var U;I.value=!0,!((U=n.presetRanges)!=null&&U.length)&&!x["left-sidebar"]&&!x["right-sidebar"]&&(j(),window.addEventListener("resize",j));const w=ue(z);if(w&&!n.textInput&&!n.inline&&(y(!0),re()),w){const me=de=>{n.allowPreventDefault&&de.preventDefault(),de.stopImmediatePropagation(),de.stopPropagation()};w.addEventListener("pointerdown",me),w.addEventListener("mousedown",me)}}),e.onUnmounted(()=>{window.removeEventListener("resize",j)});const{arrowRight:H,arrowLeft:K,arrowDown:X,arrowUp:Q}=Ne(),te=w=>{w||w===0?Z.value[w].triggerTransition(_.value(w),R.value(w)):Z.value.forEach((U,me)=>U.triggerTransition(_.value(me),R.value(me)))},re=()=>{const w=ue(z);w&&w.focus({preventScroll:!0})},ae=()=>{var w;(w=n.flow)!=null&&w.length&&E.value!==-1&&(E.value+=1,a("flow-step",E.value),i())},V=()=>{E.value=-1},{calendars:D,modelValue:p,month:_,year:R,time:S,updateTime:g,updateMonthYear:c,selectDate:o,getWeekNum:l,monthYearSelect:k,handleScroll:b,handleArrow:B,handleSwipe:f,getMarker:N,selectCurrentDate:m,presetDateRange:O}=Ln(n,a,ae,te,E),{setHoverDate:F,clearHoverDate:ie,getDayClassData:$e}=_r(p,n);e.watch(D,()=>{n.openOnTop&&setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const J=Ae(x,"calendar"),Ce=Ae(x,"action"),Be=Ae(x,"timePicker"),fe=Ae(x,"monthYear"),Se=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ve=e.computed(()=>Pn(n.yearRange,n.reverseYears)),Le=e.computed(()=>An(n.locale,n.monthNameFormat)),j=()=>{const w=ue(P);w&&(v.value=w.getBoundingClientRect().width)},ne=e.computed(()=>w=>Y(_.value(w),R.value(w))),ee=e.computed(()=>T.value.multiCalendars>0&&n.range?[...Array(T.value.multiCalendars).keys()]:[0]),Ee=e.computed(()=>w=>w===1),Re=e.computed(()=>n.monthPicker||n.timePicker||n.yearPicker),kt=e.computed(()=>({dp__menu_inner:!0,dp__flex_display:T.value.multiCalendars>0})),wt=e.computed(()=>({dp__instance_calendar:T.value.multiCalendars>0})),Ge=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),ze=e.computed(()=>w=>Dt(ne,w)),bt=e.computed(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),Dt=(w,U)=>w.value(U).map(me=>({...me,days:me.days.map(de=>(de.marker=N(de),de.classData=$e(de),de))})),Ct=w=>{w.stopPropagation(),w.stopImmediatePropagation()},Ze=()=>{n.escClose&&a("close-picker")},qt=(w,U=!1)=>{o(w,U),n.spaceConfirm&&a("select-date")},qe=w=>{var U;(U=n.flow)!=null&&U.length&&(d[w]=!0,Object.keys(d).filter(me=>!d[me]).length||i())},ve=(w,U,me,de,...Xe)=>{if(n.flow[E.value]===w){const G=de?U.value[0]:U.value;G&&G[me](...Xe)}},i=()=>{ve("month",M,"toggleMonthPicker",!0,!0),ve("year",M,"toggleYearPicker",!0,!0),ve("calendar",L,"toggleTimePicker",!1,!1,!0),ve("time",L,"toggleTimePicker",!1,!0,!0);const w=n.flow[E.value];(w==="hours"||w==="minutes"||w==="seconds")&&ve(w,L,"toggleTimePicker",!1,!0,!0,w)},C=w=>{if(n.arrowNavigation){if(w==="up")return Q();if(w==="down")return X();if(w==="left")return K();if(w==="right")return H()}else w==="left"||w==="up"?B("left",0,w==="up"):B("right",0,w==="down")},W=w=>{h(w.shiftKey),!n.disableMonthYearSelect&&w.code==="Tab"&&w.target.classList.contains("dp__menu")&&A.value.shiftKeyInMenu&&(w.preventDefault(),w.stopImmediatePropagation(),a("close-picker"))},q=w=>{M.value[0]&&M.value[0].handleMonthYearChange(w)},ce=()=>{re(),a("time-picker-close")};return r({updateMonthYear:c}),(w,U)=>{var me;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(me=e.unref(T).transitions)==null?void 0:me.menuAppear,css:!!w.transitions},{default:e.withCtx(()=>{var de,Xe;return[e.createElementVNode("div",{id:w.uid?`dp-menu-${w.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:z,role:"dialog",class:e.normalizeClass(e.unref(bt)),onMouseleave:U[14]||(U[14]=(...G)=>e.unref(ie)&&e.unref(ie)(...G)),onClick:Ct,onKeydown:[e.withKeys(Ze,["esc"]),U[15]||(U[15]=e.withKeys(e.withModifiers(G=>C("left"),["prevent"]),["left"])),U[16]||(U[16]=e.withKeys(e.withModifiers(G=>C("up"),["prevent"]),["up"])),U[17]||(U[17]=e.withKeys(e.withModifiers(G=>C("down"),["prevent"]),["down"])),U[18]||(U[18]=e.withKeys(e.withModifiers(G=>C("right"),["prevent"]),["right"])),W]},[(w.disabled||w.readonly)&&w.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(Ge))},null,2)):e.createCommentVNode("",!0),!w.inline&&!w.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(Se))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((de=w.presetRanges)==null?void 0:de.length)||!!w.$slots["left-sidebar"]||!!w.$slots["right-sidebar"]})},[w.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Or,[e.renderSlot(w.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:q})))])):e.createCommentVNode("",!0),(Xe=w.presetRanges)!=null&&Xe.length?(e.openBlock(),e.createElementBlock("div",Yr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.presetRanges,(G,Oe)=>(e.openBlock(),e.createElementBlock("div",{key:Oe,style:e.normalizeStyle(G.style||{}),class:"dp__preset_range",onClick:le=>e.unref(O)(G.range,!!G.slot)},[G.slot?e.renderSlot(w.$slots,G.slot,{key:0,presetDateRange:e.unref(O),label:G.label,range:G.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(G.label),1)],64))],12,Ir))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:P,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(kt))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(ee),(G,Oe)=>(e.openBlock(),e.createElementBlock("div",{key:G,class:e.normalizeClass(e.unref(wt))},[!w.disableMonthYearSelect&&!w.timePicker?(e.openBlock(),e.createBlock(Dr,e.mergeProps({key:0,ref_for:!0,ref:le=>{le&&(M.value[Oe]=le)},months:e.unref(Le),years:e.unref(Ve),month:e.unref(_)(G),year:e.unref(R)(G),instance:G,"internal-model-value":t.internalModelValue},e.unref(s),{onMount:U[0]||(U[0]=le=>qe("monthYearInput")),onResetFlow:V,onUpdateMonthYear:le=>e.unref(c)(G,le),onMonthYearSelect:e.unref(k),onOverlayClosed:re}),e.createSlots({_:2},[e.renderList(e.unref(fe),(le,Gr)=>({name:le,fn:e.withCtx(Mt=>[e.renderSlot(w.$slots,le,e.normalizeProps(e.guardReactiveProps(Mt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(ur,e.mergeProps({ref_for:!0,ref:le=>{le&&(Z.value[Oe]=le)},"specific-mode":e.unref(Re),"get-week-num":e.unref(l),instance:G,"mapped-dates":e.unref(ze)(G),month:e.unref(_)(G),year:e.unref(R)(G)},e.unref(s),{onSelectDate:le=>e.unref(o)(le,!e.unref(Ee)(G)),onHandleSpace:le=>qt(le,!e.unref(Ee)(G)),onSetHoverDate:U[1]||(U[1]=le=>e.unref(F)(le)),onHandleScroll:le=>e.unref(b)(le,G),onHandleSwipe:le=>e.unref(f)(le,G),onMount:U[2]||(U[2]=le=>qe("calendar")),onResetFlow:V,onTooltipOpen:U[3]||(U[3]=le=>w.$emit("tooltip-open",le)),onTooltipClose:U[4]||(U[4]=le=>w.$emit("tooltip-close",le))}),e.createSlots({_:2},[e.renderList(e.unref(J),(le,Gr)=>({name:le,fn:e.withCtx(Mt=>[e.renderSlot(w.$slots,le,e.normalizeProps(e.guardReactiveProps({...Mt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[w.$slots["time-picker"]?e.renderSlot(w.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(S),updateTime:e.unref(g)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[w.enableTimePicker&&!w.monthPicker&&!w.weekPicker?(e.openBlock(),e.createBlock(Rr,e.mergeProps({key:0,ref_key:"timePickerRef",ref:L,hours:e.unref(S).hours,minutes:e.unref(S).minutes,seconds:e.unref(S).seconds,"internal-model-value":t.internalModelValue},e.unref(s),{onMount:U[5]||(U[5]=G=>qe("timePicker")),"onUpdate:hours":U[6]||(U[6]=G=>e.unref(g)(G)),"onUpdate:minutes":U[7]||(U[7]=G=>e.unref(g)(G,!1)),"onUpdate:seconds":U[8]||(U[8]=G=>e.unref(g)(G,!1,!0)),onResetFlow:V,onOverlayClosed:ce,onOverlayOpened:U[9]||(U[9]=G=>w.$emit("time-picker-open",G)),onAmPmChange:U[10]||(U[10]=G=>w.$emit("am-pm-change",G))}),e.createSlots({_:2},[e.renderList(e.unref(Be),(G,Oe)=>({name:G,fn:e.withCtx(le=>[e.renderSlot(w.$slots,G,e.normalizeProps(e.guardReactiveProps(le)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),w.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",xr,[e.renderSlot(w.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:q})))])):e.createCommentVNode("",!0),w.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Lr,[w.$slots["action-extra"]?e.renderSlot(w.$slots,"action-extra",{key:0,selectCurrentDate:e.unref(m)}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],2),!w.autoApply||w.keepActionRow?(e.openBlock(),e.createBlock(er,e.mergeProps({key:2,"menu-mount":I.value,"calendar-width":v.value,"internal-model-value":t.internalModelValue},e.unref(s),{onClosePicker:U[11]||(U[11]=G=>w.$emit("close-picker")),onSelectDate:U[12]||(U[12]=G=>w.$emit("select-date")),onInvalidSelect:U[13]||(U[13]=G=>w.$emit("invalid-select")),onSelectNow:e.unref(m)}),e.createSlots({_:2},[e.renderList(e.unref(Ce),(G,Oe)=>({name:G,fn:e.withCtx(le=>[e.renderSlot(w.$slots,G,e.normalizeProps(e.guardReactiveProps({...le})))])}))]),1040,["menu-mount","calendar-width","internal-model-value","onSelectNow"])):e.createCommentVNode("",!0)],42,vr)]}),_:3},8,["name","css"])}}}),Kr=typeof window<"u"?window:void 0,gt=()=>{},Ur=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Hr=(t,r,a,n)=>{if(!t)return gt;let s=gt;const y=e.watch(()=>e.unref(t),A=>{s(),A&&(A.addEventListener(r,a,n),s=()=>{A.removeEventListener(r,a,n),s=gt})},{immediate:!0,flush:"post"}),h=()=>{y(),s()};return Ur(h),h},Wr=(t,r,a,n={})=>{const{window:s=Kr,event:y="pointerdown"}=n;return s?Hr(s,y,A=>{const Y=ue(t),T=ue(r);!Y||!T||Y===A.target||A.composedPath().includes(Y)||A.composedPath().includes(T)||a(A)},{passive:!0}):void 0},jr=e.defineComponent({__name:"VueDatePicker",props:{...Te},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,s=e.useSlots(),y=e.ref(!1),h=e.toRef(n,"modelValue"),A=e.toRef(n,"timezone"),Y=e.ref(null),T=e.ref(null),x=e.ref(!1),P=e.ref(null),{setMenuFocused:d,setShiftKey:M}=Vt(),{clearArrowNav:Z}=Ne(),{validateDate:L,isValidTime:z,defaults:v}=be(n);e.onMounted(()=>{D(n.modelValue),n.inline||(re(P.value).addEventListener("scroll",o),window.addEventListener("resize",l)),n.inline&&(y.value=!0)}),e.onUnmounted(()=>{if(!n.inline){const j=re(P.value);j&&j.removeEventListener("scroll",o),window.removeEventListener("resize",l)}});const I=Ae(s,"all",n.presetRanges),E=Ae(s,"input");e.watch([h,A],()=>{D(h.value)},{deep:!0});const{openOnTop:H,menuStyle:K,resetPosition:X,setMenuPosition:Q,setInitialPosition:te,getScrollableParent:re}=Un(Y,T,a,n),{inputValue:ae,internalModelValue:V,parseExternalModelValue:D,emitModelValue:p,formatInputValue:_,checkBeforeEmit:R}=zn(a,n,x),S=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),g=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),c=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:n.inline}:{class:"dp__outer_menu_wrap"}),o=()=>{y.value&&(n.closeOnScroll?ie():Q())},l=()=>{y.value&&Q()},k=async()=>{var j,ne,ee;!n.disabled&&!n.readonly&&(X(),await e.nextTick(),y.value=!0,await e.nextTick(),te(),await e.nextTick(),Q(),delete K.value.opacity,(j=v.value.transitions)!=null&&j.menuAppear||(ee=(ne=Y.value)==null?void 0:ne.$el)==null||ee.classList.add("dp__menu_transitioned"),y.value&&a("open"),y.value||F(),D(n.modelValue))},b=()=>{ae.value="",F(),a("update:model-value",null),a("cleared"),ie()},B=()=>{const j=V.value;return!j||!Array.isArray(j)&&L(j)?!0:Array.isArray(j)?j.length===2&&L(j[0])&&L(j[1])?!0:L(j[0]):!1},f=()=>{R()&&B()?(p(),ie()):a("invalid-select",V.value)},N=j=>{m(),p(),n.closeOnAutoApply&&!j&&ie()},m=()=>{T.value&&n.textInput&&T.value.setParsedDate(V.value)},O=(j=!1)=>{n.autoApply&&z(V.value)&&B()&&(n.range&&Array.isArray(V.value)?(n.partialRange||V.value.length===2)&&N(j):N(j))},F=()=>{n.textInput||(V.value=null)},ie=()=>{n.inline||(y.value&&(y.value=!1,d(!1),M(!1),Z(),a("closed"),te(),ae.value&&D(h.value)),F())},$e=(j,ne)=>{if(!j){V.value=null;return}V.value=j,ne&&(f(),a("text-submit"))},J=()=>{n.autoApply&&z(V.value)&&p(),m()},Ce=()=>y.value?ie():k(),Be=j=>{V.value=j},fe=()=>{n.textInput&&(x.value=!0,_()),a("focus")},Se=()=>{n.textInput&&(x.value=!1,D(n.modelValue)),a("blur")},Ve=j=>{Y.value&&Y.value.updateMonthYear(0,{month:Ht(j.month),year:Ht(j.year)})},Le=j=>{D(j||n.modelValue)};return Wr(Y,T,n.onClickOutside?()=>n.onClickOutside(B):ie),r({closeMenu:ie,selectDate:f,clearValue:b,openMenu:k,onScroll:o,formatInputValue:_,updateInternalModelValue:Be,setMonthYear:Ve,parseModel:Le}),(j,ne)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(S)),ref_key:"pickerWrapperRef",ref:P},[e.createVNode(Xn,e.mergeProps({ref_key:"inputRef",ref:T,"is-menu-open":y.value,"input-value":e.unref(ae),"onUpdate:inputValue":ne[0]||(ne[0]=ee=>e.isRef(ae)?ae.value=ee:null)},j.$props,{onClear:b,onOpen:k,onSetInputDate:$e,onSetEmptyDate:e.unref(p),onSelectDate:f,onToggle:Ce,onClose:ie,onFocus:fe,onBlur:Se,onRealBlur:ne[1]||(ne[1]=ee=>x.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(E),(ee,Ee)=>({name:ee,fn:e.withCtx(Re=>[e.renderSlot(j.$slots,ee,e.normalizeProps(e.guardReactiveProps(Re)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),y.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(j.teleport?e.Teleport:"div"),e.normalizeProps(e.mergeProps({key:0},e.unref(c))),{default:e.withCtx(()=>[y.value?(e.openBlock(),e.createBlock(zr,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:Y,class:e.unref(g),style:j.inline?void 0:e.unref(K),"open-on-top":e.unref(H)},j.$props,{"internal-model-value":e.unref(V),"onUpdate:internalModelValue":ne[2]||(ne[2]=ee=>e.isRef(V)?V.value=ee:null),onClosePicker:ie,onSelectDate:f,onAutoApply:O,onTimeUpdate:J,onFlowStep:ne[3]||(ne[3]=ee=>j.$emit("flow-step",ee)),onUpdateMonthYear:ne[4]||(ne[4]=ee=>j.$emit("update-month-year",ee)),onInvalidSelect:ne[5]||(ne[5]=ee=>j.$emit("invalid-select",e.unref(V))),onInvalidFixedRange:ne[6]||(ne[6]=ee=>j.$emit("invalid-fixed-range",ee)),onRecalculatePosition:e.unref(Q),onTooltipOpen:ne[7]||(ne[7]=ee=>j.$emit("tooltip-open",ee)),onTooltipClose:ne[8]||(ne[8]=ee=>j.$emit("tooltip-close",ee)),onTimePickerOpen:ne[9]||(ne[9]=ee=>j.$emit("time-picker-open",ee)),onTimePickerClose:ne[10]||(ne[10]=ee=>j.$emit("time-picker-close",ee)),onAmPmChange:ne[11]||(ne[11]=ee=>j.$emit("am-pm-change",ee))}),e.createSlots({_:2},[e.renderList(e.unref(I),(ee,Ee)=>({name:ee,fn:e.withCtx(Re=>[e.renderSlot(j.$slots,ee,e.normalizeProps(e.guardReactiveProps({...Re})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):e.createCommentVNode("",!0)]),_:3},16)):e.createCommentVNode("",!0)],2))}}),ht=(()=>{const t=jr;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(ht[t]=r)}),ht});
